<audio title="08_ç»¼åˆæ¡ˆä¾‹ï¼šæŒæ¡Dartæ ¸å¿ƒç‰¹æ€§" src="https://static001.geekbang.org/resource/audio/a5/b4/a59217af6d166c81eb955952c68988b4.mp3" controls="controls"></audio> 
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™ˆèˆªã€‚</p><p>åœ¨å‰ä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘é¦–å…ˆä¸ä½ ä¸€èµ·å­¦ä¹ äº†Dartç¨‹åºçš„åŸºæœ¬ç»“æ„å’Œè¯­æ³•ï¼Œè®¤è¯†äº†Dartè¯­è¨€ä¸–ç•Œçš„åŸºæœ¬æ„æˆè¦ç´ ï¼Œä¹Ÿå°±æ˜¯ç±»å‹ç³»ç»Ÿï¼Œä»¥åŠå®ƒä»¬æ˜¯æ€ä¹ˆè¡¨ç¤ºä¿¡æ¯çš„ã€‚ç„¶åï¼Œæˆ‘å¸¦ä½ å­¦ä¹ äº†Darté¢å‘å¯¹è±¡è®¾è®¡çš„åŸºæœ¬æ€è·¯ï¼ŒçŸ¥é“äº†å‡½æ•°ã€ç±»ä¸è¿ç®—ç¬¦è¿™äº›å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­å¸¸è§çš„æ¦‚å¿µï¼Œåœ¨Dartä¸­çš„å·®å¼‚åŠå…¸å‹ç”¨æ³•ï¼Œç†è§£äº†Dartæ˜¯æ€ä¹ˆå¤„ç†ä¿¡æ¯çš„ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼ŒDartå¸çº³äº†å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„ä¼˜ç‚¹ï¼Œåœ¨å…³äºå¦‚ä½•è¡¨è¾¾ä»¥åŠå¤„ç†ä¿¡æ¯ä¸Šï¼Œæ—¢ç®€å•åˆç®€æ´ï¼Œè€Œä¸”åˆä¸å¤±å¼ºå¤§ã€‚ä¿—è¯è¯´ï¼Œçº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œã€‚é‚£ä¹ˆä»Šå¤©ï¼Œæˆ‘å°±ç”¨ä¸€ä¸ªç»¼åˆæ¡ˆä¾‹ï¼ŒæŠŠå‰é¢å­¦ä¹ çš„å…³äºDartçš„é›¶æ•£çŸ¥è¯†ä¸²èµ·æ¥ï¼Œå¸Œæœ›ä½ å¯ä»¥åŠ¨æ‰‹è¯•éªŒä¸€ä¸‹è¿™ä¸ªæ¡ˆä¾‹ï¼Œå€Ÿæ­¤æŒæ¡å¦‚ä½•ç”¨Dartç¼–ç¨‹ã€‚</p><p>æœ‰äº†å‰é¢å­¦ä¹ çš„çŸ¥è¯†ç‚¹ï¼Œå†åŠ ä¸Šä»Šå¤©çš„ç»¼åˆæ¡ˆä¾‹ç»ƒä¹ ï¼Œæˆ‘è®¤ä¸ºä½ å·²ç»æŒæ¡äº†Dartæœ€å¸¸ç”¨çš„80%çš„ç‰¹æ€§ï¼Œå¯ä»¥åœ¨åŸºæœ¬æ²¡æœ‰è¯­è¨€éšœç¢çš„æƒ…å†µä¸‹å»ä½¿ç”¨Flutteräº†ã€‚è‡³äºå‰©ä¸‹çš„é‚£20%çš„ç‰¹æ€§ï¼Œå› ä¸ºä½¿ç”¨è¾ƒå°‘ï¼Œæ‰€ä»¥æˆ‘ä¸ä¼šåœ¨æœ¬ä¸“æ åšé‡ç‚¹è®²è§£ã€‚å¦‚æœä½ å¯¹è¿™éƒ¨åˆ†å†…å®¹æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥è®¿é—®<a href="https://dart.dev/tutorials">å®˜æ–¹æ–‡æ¡£</a>å»åšè¿›ä¸€æ­¥äº†è§£ã€‚</p><p>æ­¤å¤–ï¼Œå…³äºDartä¸­çš„å¼‚æ­¥å’Œå¹¶å‘ï¼Œæˆ‘ä¼šåœ¨åé¢çš„ç¬¬23ç¯‡æ–‡ç« â€œå•çº¿ç¨‹æ¨¡å‹æ€ä¹ˆä¿è¯UIè¿è¡Œæµç•…ï¼Ÿâ€ä¸­è¿›è¡Œæ·±å…¥ä»‹ç»ã€‚</p><h2>æ¡ˆä¾‹ä»‹ç»</h2><!-- [[[read_end]]] --><p>ä»Šå¤©ï¼Œæˆ‘é€‰æ‹©çš„æ¡ˆä¾‹æ˜¯ï¼Œå…ˆç”¨Dartå†™ä¸€æ®µè´­ç‰©è½¦ç¨‹åºï¼Œä½†å…ˆä¸ä½¿ç”¨Dartç‹¬æœ‰çš„ç‰¹æ€§ã€‚ç„¶åï¼Œæˆ‘ä»¬å†ä»¥è¿™æ®µç¨‹åºä¸ºèµ·ç‚¹ï¼Œé€æ­¥åŠ å…¥Dartè¯­è¨€ç‰¹æ€§ï¼Œå°†å…¶æ”¹é€ ä¸ºä¸€ä¸ªç¬¦åˆDartè®¾è®¡æ€æƒ³çš„ç¨‹åºã€‚ä½ å¯ä»¥åœ¨è¿™ä¸ªæ”¹é€ è¿‡ç¨‹ä¸­ï¼Œè¿›ä¸€æ­¥ä½“ä¼šåˆ°Dartçš„é­…åŠ›æ‰€åœ¨ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹åœ¨ä¸ä½¿ç”¨ä»»ä½•Dartè¯­æ³•ç‰¹æ€§çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæœ‰ç€åŸºæœ¬åŠŸèƒ½çš„è´­ç‰©è½¦ç¨‹åºé•¿ä»€ä¹ˆæ ·å­ã€‚</p><pre><code>//å®šä¹‰å•†å“Itemç±»
class Item {
  double price;
  String name;
  Item(name, price) {
    this.name = name;
    this.price = price;
  }
}

//å®šä¹‰è´­ç‰©è½¦ç±»
class ShoppingCart {
  String name;
  DateTime date;
  String code;
  List&lt;Item&gt; bookings;

  price() {
    double sum = 0.0;
    for(var i in bookings) {
      sum += i.price;
    }
    return sum;
  }

  ShoppingCart(name, code) {
    this.name = name;
    this.code = code;
    this.date = DateTime.now();
  }

  getInfo() {
    return 'è´­ç‰©è½¦ä¿¡æ¯:' +
          '\n-----------------------------' +
          '\nç”¨æˆ·å: ' + name+ 
          '\nä¼˜æƒ ç : ' + code + 
          '\næ€»ä»·: ' + price().toString() +
          '\næ—¥æœŸ: ' + date.toString() +
          '\n-----------------------------';
  }
}

void main() {
  ShoppingCart sc = ShoppingCart('å¼ ä¸‰', '123456');
  sc.bookings = [Item('è‹¹æœ',10.0), Item('é¸­æ¢¨',20.0)];
  print(sc.getInfo());
}
</code></pre><p>åœ¨è¿™æ®µç¨‹åºä¸­ï¼Œæˆ‘å®šä¹‰äº†å•†å“Itemç±»ï¼Œä»¥åŠè´­ç‰©è½¦ShoppingCartç±»ã€‚å®ƒä»¬åˆ†åˆ«åŒ…å«äº†ä¸€ä¸ªåˆå§‹åŒ–æ„é€ æ–¹æ³•ï¼Œå°†mainå‡½æ•°ä¼ å…¥çš„å‚æ•°ä¿¡æ¯èµ‹å€¼ç»™å¯¹è±¡å†…éƒ¨å±æ€§ã€‚è€Œè´­ç‰©è½¦çš„åŸºæœ¬ä¿¡æ¯ï¼Œåˆ™é€šè¿‡ShoppingCartç±»ä¸­çš„getInfoæ–¹æ³•è¾“å‡ºã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘é‡‡ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼ï¼Œå°†å„ç±»ä¿¡æ¯è¿›è¡Œæ ¼å¼åŒ–ç»„åˆåï¼Œè¿”å›ç»™è°ƒç”¨è€…ã€‚</p><p>è¿è¡Œè¿™æ®µç¨‹åºï¼Œä¸å‡ºæ„å¤–ï¼Œè´­ç‰©è½¦å¯¹è±¡scåŒ…æ‹¬çš„ç”¨æˆ·åã€ä¼˜æƒ ç ã€æ€»ä»·ä¸æ—¥æœŸåœ¨å†…çš„åŸºæœ¬ä¿¡æ¯éƒ½ä¼šè¢«æ‰“å°åˆ°å‘½ä»¤è¡Œä¸­ã€‚</p><pre><code>è´­ç‰©è½¦ä¿¡æ¯:
-----------------------------
ç”¨æˆ·å: å¼ ä¸‰
ä¼˜æƒ ç : 123456
æ€»ä»·: 30.0
æ—¥æœŸ: 2019-06-01 17:17:57.004645
-----------------------------
</code></pre><p>è¿™æ®µç¨‹åºçš„åŠŸèƒ½éå¸¸ç®€å•ï¼šæˆ‘ä»¬åˆå§‹åŒ–äº†ä¸€ä¸ªè´­ç‰©è½¦å¯¹è±¡ï¼Œç„¶åç»™è´­ç‰©è½¦å¯¹è±¡è¿›è¡ŒåŠ è´­æ“ä½œï¼Œæœ€åæ‰“å°å‡ºåŸºæœ¬ä¿¡æ¯ã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸ä½¿ç”¨Dartè¯­æ³•ä»»ä½•ç‰¹æ€§çš„æƒ…å†µä¸‹ï¼Œè¿™æ®µä»£ç ä¸Javaã€C++ç”šè‡³JavaScriptæ²¡æœ‰æ˜æ˜¾çš„è¯­æ³•å·®å¼‚ã€‚</p><p>åœ¨å…³äºå¦‚ä½•è¡¨è¾¾ä»¥åŠå¤„ç†ä¿¡æ¯ä¸Šï¼ŒDartä¿æŒäº†æ—¢ç®€å•åˆç®€æ´çš„é£æ ¼ã€‚é‚£æ¥ä¸‹æ¥ï¼Œ<strong>æˆ‘ä»¬å°±å…ˆä»è¡¨è¾¾ä¿¡æ¯å…¥æ‰‹ï¼Œçœ‹çœ‹Dartæ˜¯å¦‚ä½•ä¼˜åŒ–è¿™æ®µä»£ç çš„ã€‚</strong></p><h2>ç±»æŠ½è±¡æ”¹é€ </h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹Itemç±»ä¸ShoppingCartç±»çš„åˆå§‹åŒ–éƒ¨åˆ†ã€‚å®ƒä»¬åœ¨æ„é€ å‡½æ•°ä¸­çš„åˆå§‹åŒ–å·¥ä½œï¼Œä»…ä»…æ˜¯å°†mainå‡½æ•°ä¼ å…¥çš„å‚æ•°è¿›è¡Œå±æ€§èµ‹å€¼ã€‚</p><p>åœ¨å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œåœ¨æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å†…ï¼Œå°†åˆå§‹åŒ–å‚æ•°èµ‹å€¼ç»™å®ä¾‹å˜é‡çš„æ–¹å¼éå¸¸å¸¸è§ã€‚è€Œåœ¨Darté‡Œï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¯­æ³•ç³–ä»¥åŠåˆå§‹åŒ–åˆ—è¡¨ï¼Œæ¥ç®€åŒ–è¿™æ ·çš„èµ‹å€¼è¿‡ç¨‹ï¼Œä»è€Œç›´æ¥çœå»æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ï¼š</p><pre><code>class Item {
  double price;
  String name;
  Item(this.name, this.price);
}

class ShoppingCart {
  String name;
  DateTime date;
  String code;
  List&lt;Item&gt; bookings;
  price() {...}
  //åˆ æ‰äº†æ„é€ å‡½æ•°å‡½æ•°ä½“
  ShoppingCart(this.name, this.code) : date = DateTime.now();
...
}
</code></pre><p>è¿™ä¸€ä¸‹å°±çœå»äº†7è¡Œä»£ç ï¼é€šè¿‡è¿™æ¬¡æ”¹é€ ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªæ–°çš„å‘ç°ï¼š</p><ul>
<li>é¦–å…ˆï¼ŒItemç±»ä¸ShoppingCartç±»ä¸­éƒ½æœ‰ä¸€ä¸ªnameå±æ€§ï¼Œåœ¨Itemä¸­è¡¨ç¤ºå•†å“åç§°ï¼Œåœ¨ShoppingCartä¸­åˆ™è¡¨ç¤ºç”¨æˆ·åï¼›</li>
<li>ç„¶åï¼ŒItemç±»ä¸­æœ‰ä¸€ä¸ªpriceå±æ€§ï¼ŒShoppingCartä¸­æœ‰ä¸€ä¸ªpriceæ–¹æ³•ï¼Œå®ƒä»¬éƒ½è¡¨ç¤ºå½“å‰çš„ä»·æ ¼ã€‚</li>
</ul><p>è€ƒè™‘åˆ°nameå±æ€§ä¸priceå±æ€§ï¼ˆæ–¹æ³•ï¼‰çš„åç§°ä¸ç±»å‹å®Œå…¨ä¸€è‡´ï¼Œåœ¨ä¿¡æ¯è¡¨è¾¾ä¸Šçš„ä½œç”¨ä¹Ÿå‡ ä¹ä¸€è‡´ï¼Œå› æ­¤æˆ‘å¯ä»¥åœ¨è¿™ä¸¤ä¸ªç±»çš„åŸºç¡€ä¸Šï¼Œå†æŠ½è±¡å‡ºä¸€ä¸ªæ–°çš„åŸºç±»Metaï¼Œç”¨äºå­˜æ”¾priceå±æ€§ä¸nameå±æ€§ã€‚</p><p>åŒæ—¶ï¼Œè€ƒè™‘åˆ°åœ¨ShoppingCartç±»ä¸­ï¼Œpriceå±æ€§ä»…ç”¨åšè®¡ç®—è´­ç‰©è½¦ä¸­å•†å“çš„ä»·æ ¼ï¼ˆè€Œä¸æ˜¯åƒItemç±»é‚£æ ·ç”¨äºæ•°æ®å­˜å–ï¼‰ï¼Œå› æ­¤åœ¨ç»§æ‰¿äº†Metaç±»åï¼Œæˆ‘æ”¹å†™äº†ShoppingCartç±»ä¸­priceå±æ€§çš„getæ–¹æ³•ï¼š</p><pre><code>class Meta {
  double price;
  String name;
  Meta(this.name, this.price);
}
class Item extends Meta{
  Item(name, price) : super(name, price);
}

class ShoppingCart extends Meta{
  DateTime date;
  String code;
  List&lt;Item&gt; bookings;
  
  double get price {...}
  ShoppingCart(name, this.code) : date = DateTime.now(),super(name,0);
  getInfo() {...}
}
</code></pre><p>é€šè¿‡è¿™æ¬¡ç±»æŠ½è±¡æ”¹é€ ï¼Œç¨‹åºä¸­å„ä¸ªç±»çš„ä¾èµ–å…³ç³»å˜å¾—æ›´åŠ æ¸…æ™°äº†ã€‚ä¸è¿‡ï¼Œç›®å‰è¿™æ®µç¨‹åºä¸­è¿˜æœ‰ä¸¤ä¸ªå†—é•¿çš„æ–¹æ³•æ˜¾å¾—æ ¼æ ¼ä¸å…¥ï¼Œå³ShoppingCartç±»ä¸­è®¡ç®—ä»·æ ¼çš„priceå±æ€§getæ–¹æ³•ï¼Œä»¥åŠæä¾›è´­ç‰©è½¦åŸºæœ¬ä¿¡æ¯çš„getInfoæ–¹æ³•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†åˆ«æ¥æ”¹é€ è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚</p><h2>æ–¹æ³•æ”¹é€ </h2><p>æˆ‘ä»¬å…ˆçœ‹çœ‹priceå±æ€§çš„getæ–¹æ³•ï¼š</p><pre><code>double get price {
  double sum = 0.0;
  for(var i in bookings) {
    sum += i.price;
  }
  return sum;
} 
</code></pre><p>åœ¨è¿™ä¸ªæ–¹æ³•é‡Œï¼Œæˆ‘é‡‡ç”¨äº†å…¶ä»–è¯­è¨€å¸¸è§çš„æ±‚å’Œç®—æ³•ï¼Œä¾æ¬¡éå†bookingsåˆ—è¡¨ä¸­çš„Itemå¯¹è±¡ï¼Œç´¯ç§¯ç›¸åŠ æ±‚å’Œã€‚</p><p>è€Œåœ¨Dartä¸­ï¼Œè¿™æ ·çš„æ±‚å’Œè¿ç®—æˆ‘ä»¬åªéœ€é‡è½½Itemç±»çš„â€œ+â€è¿ç®—ç¬¦ï¼Œå¹¶é€šè¿‡å¯¹åˆ—è¡¨å¯¹è±¡è¿›è¡Œå½’çº³åˆå¹¶æ“ä½œå³å¯å®ç°ï¼ˆä½ å¯ä»¥æƒ³è±¡æˆï¼ŒæŠŠè´­ç‰©è½¦ä¸­çš„æ‰€æœ‰å•†å“éƒ½åˆå¹¶æˆäº†ä¸€ä¸ªå•†å“å¥—é¤å¯¹è±¡ï¼‰ã€‚</p><p>å¦å¤–ï¼Œç”±äºå‡½æ•°ä½“åªæœ‰ä¸€è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Dartçš„ç®­å¤´å‡½æ•°æ¥è¿›ä¸€æ­¥ç®€åŒ–å®ç°å‡½æ•°ï¼š</p><pre><code>class Item extends Meta{
  ...
  //é‡è½½äº†+è¿ç®—ç¬¦ï¼Œåˆå¹¶å•†å“ä¸ºå¥—é¤å•†å“
  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price); 
}

class ShoppingCart extends Meta{
  ...
  //æŠŠè¿­ä»£æ±‚å’Œæ”¹å†™ä¸ºå½’çº³åˆå¹¶
  double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;
  ...
  getInfo() {...}
}
</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ®µä»£ç åˆç®€æ´äº†å¾ˆå¤šï¼æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†çœ‹çœ‹getInfoæ–¹æ³•å¦‚ä½•ä¼˜åŒ–ã€‚</p><p>åœ¨getInfoæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å°†ShoppingCartç±»çš„åŸºæœ¬ä¿¡æ¯é€šè¿‡å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼ï¼Œè¿›è¡Œæ ¼å¼åŒ–ç»„åˆï¼Œè¿™åœ¨å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­éå¸¸å¸¸è§ã€‚è€Œåœ¨Dartä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹å­—ç¬¦ä¸²æ’å…¥å˜é‡æˆ–è¡¨è¾¾å¼ï¼Œå¹¶ä½¿ç”¨å¤šè¡Œå­—ç¬¦ä¸²å£°æ˜çš„æ–¹å¼ï¼Œæ¥å®Œå…¨æŠ›å¼ƒä¸ä¼˜é›…çš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå®ç°å­—ç¬¦ä¸²æ ¼å¼åŒ–ç»„åˆã€‚</p><pre><code>getInfo () =&gt; '''
è´­ç‰©è½¦ä¿¡æ¯:
-----------------------------
  ç”¨æˆ·å: $name
  ä¼˜æƒ ç : $code
  æ€»ä»·: $price
  Date: $date
-----------------------------
''';
</code></pre><p>åœ¨å»æ‰äº†å¤šä½™çš„å­—ç¬¦ä¸²è½¬ä¹‰å’Œæ‹¼æ¥ä»£ç åï¼ŒgetInfoæ–¹æ³•çœ‹ç€å°±æ¸…æ™°å¤šäº†ã€‚</p><p>åœ¨ä¼˜åŒ–å®Œäº†ShoppingCartç±»ä¸Itemç±»çš„å†…éƒ¨å®ç°åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹mainå‡½æ•°ï¼Œä»è°ƒç”¨æ–¹çš„è§’åº¦å»åˆ†æç¨‹åºè¿˜èƒ½åœ¨å“ªäº›æ–¹é¢åšä¼˜åŒ–ã€‚</p><h2>å¯¹è±¡åˆå§‹åŒ–æ–¹å¼çš„ä¼˜åŒ–</h2><p>åœ¨mainå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨</p><pre><code>ShoppingCart sc = ShoppingCart('å¼ ä¸‰', '123456') ;
</code></pre><p>åˆå§‹åŒ–äº†ä¸€ä¸ªä½¿ç”¨â€˜123456â€™ä¼˜æƒ ç ã€åä¸ºâ€˜å¼ ä¸‰â€™çš„ç”¨æˆ·æ‰€ä½¿ç”¨çš„è´­ç‰©è½¦å¯¹è±¡ã€‚è€Œè¿™æ®µåˆå§‹åŒ–æ–¹æ³•çš„è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢ä¼˜åŒ–ï¼š</p><ul>
<li>é¦–å…ˆï¼Œåœ¨å¯¹ShoppingCartçš„æ„é€ å‡½æ•°è¿›è¡Œäº†å¤§é‡ç®€å†™åï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæä¾›ç»™è°ƒç”¨è€…æ›´æ˜ç¡®çš„åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨æ–¹å¼ï¼Œè®©è°ƒç”¨è€…ä»¥â€œå‚æ•°å:å‚æ•°é”®å€¼å¯¹â€çš„æ–¹å¼æŒ‡å®šè°ƒç”¨å‚æ•°ï¼Œè®©è°ƒç”¨è€…æ˜ç¡®ä¼ é€’çš„åˆå§‹åŒ–å‚æ•°çš„æ„ä¹‰ã€‚åœ¨Dartä¸­ï¼Œè¿™æ ·çš„éœ€æ±‚ï¼Œæˆ‘ä»¬åœ¨å£°æ˜å‡½æ•°æ—¶ï¼Œå¯ä»¥é€šè¿‡ç»™å‚æ•°å¢åŠ {}å®ç°ã€‚</li>
<li>å…¶æ¬¡ï¼Œå¯¹ä¸€ä¸ªè´­ç‰©è½¦å¯¹è±¡æ¥è¯´ï¼Œä¸€å®šä¼šæœ‰ä¸€ä¸ªæœ‰ç”¨æˆ·åï¼Œä½†ä¸ä¸€å®šæœ‰ä¼˜æƒ ç çš„ç”¨æˆ·ã€‚å› æ­¤ï¼Œå¯¹äºè´­ç‰©è½¦å¯¹è±¡çš„åˆå§‹åŒ–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æä¾›ä¸€ä¸ªä¸å«ä¼˜æƒ ç çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå¹¶ä¸”éœ€è¦ç¡®å®šå¤šä¸ªåˆå§‹åŒ–æ–¹æ³•ä¸çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ä¹‹é—´çš„æ­£ç¡®è°ƒç”¨é¡ºåºã€‚</li>
</ul><p>æŒ‰ç…§è¿™æ ·çš„æ€è·¯ï¼Œæˆ‘ä»¬å¼€å§‹å¯¹ShoppingCartè¿›è¡Œæ”¹é€ ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºä¼˜æƒ ç å¯ä»¥ä¸ºç©ºï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹getInfoæ–¹æ³•è¿›è¡Œå…¼å®¹å¤„ç†ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ç”¨åˆ°äº†a??bè¿ç®—ç¬¦ï¼Œè¿™ä¸ªè¿ç®—ç¬¦èƒ½å¤Ÿå¤§é‡ç®€åŒ–åœ¨å…¶ä»–è¯­è¨€ä¸­ä¸‰å…ƒè¡¨è¾¾å¼(a != null)? a : bçš„å†™æ³•ï¼š</p><pre><code>class ShoppingCart extends Meta{
  ...
  //é»˜è®¤åˆå§‹åŒ–æ–¹æ³•ï¼Œè½¬å‘åˆ°withCodeé‡Œ
  ShoppingCart({name}) : this.withCode(name:name, code:null);
  //withCodeåˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•
  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);

  //??è¿ç®—ç¬¦è¡¨ç¤ºä¸ºcodeä¸ä¸ºnullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼&quot;æ²¡æœ‰&quot;
  getInfo () =&gt; '''
è´­ç‰©è½¦ä¿¡æ¯:
-----------------------------
  ç”¨æˆ·å: $name
  ä¼˜æƒ ç : ${code??&quot;æ²¡æœ‰&quot;}
  æ€»ä»·: $price
  Date: $date
-----------------------------
''';
}

void main() {
  ShoppingCart sc = ShoppingCart.withCode(name:'å¼ ä¸‰', code:'123456');
  sc.bookings = [Item('è‹¹æœ',10.0), Item('é¸­æ¢¨',20.0)];
  print(sc.getInfo());

  ShoppingCart sc2 = ShoppingCart(name:'æå››');
  sc2.bookings = [Item('é¦™è•‰',15.0), Item('è¥¿ç“œ',40.0)];
  print(sc2.getInfo());
}
</code></pre><p>è¿è¡Œè¿™æ®µç¨‹åºï¼Œå¼ ä¸‰å’Œæå››çš„è´­ç‰©è½¦ä¿¡æ¯éƒ½ä¼šè¢«æ‰“å°åˆ°å‘½ä»¤è¡Œä¸­ï¼š</p><pre><code>è´­ç‰©è½¦ä¿¡æ¯:
-----------------------------
  ç”¨æˆ·å: å¼ ä¸‰
  ä¼˜æƒ ç : 123456
  æ€»ä»·: 30.0
  Date: 2019-06-01 19:59:30.443817
-----------------------------

è´­ç‰©è½¦ä¿¡æ¯:
-----------------------------
  ç”¨æˆ·å: æå››
  ä¼˜æƒ ç : æ²¡æœ‰
  æ€»ä»·: 55.0
  Date: 2019-06-01 19:59:30.451747
-----------------------------
</code></pre><p>å…³äºè´­ç‰©è½¦ä¿¡æ¯çš„æ‰“å°ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡åœ¨mainå‡½æ•°ä¸­è·å–åˆ°è´­ç‰©è½¦å¯¹è±¡çš„ä¿¡æ¯åï¼Œä½¿ç”¨å…¨å±€çš„printå‡½æ•°æ‰“å°çš„ï¼Œæˆ‘ä»¬å¸Œæœ›æŠŠæ‰“å°ä¿¡æ¯çš„è¡Œä¸ºå°è£…åˆ°ShoppingCartç±»ä¸­ã€‚è€Œå¯¹äºæ‰“å°ä¿¡æ¯çš„è¡Œä¸ºè€Œè¨€ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é€šç”¨çš„åŠŸèƒ½ï¼Œä¸æ­¢ShoppingCartç±»éœ€è¦ï¼ŒItemå¯¹è±¡ä¹Ÿå¯èƒ½éœ€è¦ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æŠŠæ‰“å°ä¿¡æ¯çš„èƒ½åŠ›å•ç‹¬å°è£…æˆä¸€ä¸ªå•ç‹¬çš„ç±»PrintHelperã€‚ä½†ï¼ŒShoppingCartç±»æœ¬èº«å·²ç»ç»§æ‰¿è‡ªMetaç±»ï¼Œè€ƒè™‘åˆ°Dartå¹¶ä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œæˆ‘ä»¬æ€æ ·æ‰èƒ½å®ç°PrintHelperç±»çš„å¤ç”¨å‘¢ï¼Ÿ</p><p>è¿™å°±ç”¨åˆ°äº†æˆ‘åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æåˆ°çš„â€œæ··å…¥â€ï¼ˆMixinï¼‰ï¼Œç›¸ä¿¡ä½ è¿˜è®°å¾—åªè¦åœ¨ä½¿ç”¨æ—¶åŠ ä¸Šwithå…³é”®å­—å³å¯ã€‚</p><p>æˆ‘ä»¬æ¥è¯•ç€å¢åŠ PrintHelperç±»ï¼Œå¹¶è°ƒæ•´ShoppingCartçš„å£°æ˜ï¼š</p><pre><code>abstract class PrintHelper {
  printInfo() =&gt; print(getInfo());
  getInfo();
}

class ShoppingCart extends Meta with PrintHelper{
...
}
</code></pre><p>ç»è¿‡Mixinçš„æ”¹é€ ï¼Œæˆ‘ä»¬ç»ˆäºæŠŠæ‰€æœ‰è´­ç‰©è½¦çš„è¡Œä¸ºéƒ½å°è£…åˆ°ShoppingCartå†…éƒ¨äº†ã€‚è€Œå¯¹äºè°ƒç”¨æ–¹è€Œè¨€ï¼Œè¿˜å¯ä»¥ä½¿ç”¨çº§è”è¿ç®—ç¬¦â€œ..â€ï¼Œåœ¨åŒä¸€ä¸ªå¯¹è±¡ä¸Šè¿ç»­è°ƒç”¨å¤šä¸ªå‡½æ•°ä»¥åŠè®¿é—®æˆå‘˜å˜é‡ã€‚ä½¿ç”¨çº§è”æ“ä½œç¬¦å¯ä»¥é¿å…åˆ›å»ºä¸´æ—¶å˜é‡ï¼Œè®©ä»£ç çœ‹èµ·æ¥æ›´æµç•…ï¼š</p><pre><code>void main() {
  ShoppingCart.withCode(name:'å¼ ä¸‰', code:'123456')
  ..bookings = [Item('è‹¹æœ',10.0), Item('é¸­æ¢¨',20.0)]
  ..printInfo();

  ShoppingCart(name:'æå››')
  ..bookings = [Item('é¦™è•‰',15.0), Item('è¥¿ç“œ',40.0)]
  ..printInfo();
}
</code></pre><p>å¾ˆå¥½ï¼é€šè¿‡Dartç‹¬æœ‰çš„è¯­æ³•ç‰¹æ€§ï¼Œæˆ‘ä»¬ç»ˆäºæŠŠè¿™æ®µè´­ç‰©è½¦ä»£ç æ”¹é€ æˆäº†ç®€æ´ã€ç›´æ¥è€Œåˆå¼ºå¤§çš„Darté£æ ¼ç¨‹åºã€‚</p><h2>æ€»ç»“</h2><p>è¿™å°±æ˜¯ä»Šå¤©åˆ†äº«çš„å…¨éƒ¨å†…å®¹äº†ã€‚åœ¨ä»Šå¤©ï¼Œæˆ‘ä»¬ä»¥ä¸€ä¸ªä¸Javaã€C++ç”šè‡³JavaScriptæ²¡æœ‰æ˜æ˜¾è¯­æ³•å·®å¼‚çš„è´­ç‰©è½¦é›å½¢ä¸ºèµ·æ­¥ï¼Œé€æ­¥å°†å®ƒæ”¹é€ æˆäº†ä¸€ä¸ªç¬¦åˆDartè®¾è®¡æ€æƒ³çš„ç¨‹åºã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨æ„é€ å‡½æ•°è¯­æ³•ç³–åŠåˆå§‹åŒ–åˆ—è¡¨ï¼Œç®€åŒ–äº†æˆå‘˜å˜é‡çš„èµ‹å€¼è¿‡ç¨‹ã€‚ç„¶åï¼Œæˆ‘ä»¬é‡è½½äº†â€œ+â€è¿ç®—ç¬¦ï¼Œå¹¶é‡‡ç”¨å½’çº³åˆå¹¶çš„æ–¹å¼å®ç°äº†ä»·æ ¼è®¡ç®—ï¼Œå¹¶ä¸”ä½¿ç”¨å¤šè¡Œå­—ç¬¦ä¸²å’Œå†…åµŒè¡¨è¾¾å¼çš„æ–¹å¼ï¼Œçœå»äº†æ— è°“çš„å­—ç¬¦ä¸²æ‹¼æ¥ã€‚æœ€åï¼Œæˆ‘ä»¬é‡æ–°æ¢³ç†äº†ç±»ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œé€šè¿‡mixinã€å¤šæ„é€ å‡½æ•°ï¼Œå¯é€‰å‘½åå‚æ•°ç­‰æ‰‹æ®µï¼Œä¼˜åŒ–äº†å¯¹è±¡åˆå§‹åŒ–è°ƒç”¨æ–¹å¼ã€‚</p><p>ä¸‹é¢æ˜¯ä»Šå¤©è´­ç‰©è½¦ç»¼åˆæ¡ˆä¾‹çš„å®Œæ•´ä»£ç ï¼Œå¸Œæœ›ä½ åœ¨IDEä¸­å¤šå¤šç»ƒä¹ ï¼Œä½“ä¼šè¿™æ¬¡çš„æ”¹é€ è¿‡ç¨‹ï¼Œä»è€Œå¯¹Darté‚£äº›ä½¿ä»£ç å˜å¾—æ›´ç®€æ´ã€ç›´æ¥è€Œå¼ºå¤§çš„å…³é”®è¯­æ³•ç‰¹æ€§äº§ç”Ÿæ›´æ·±åˆ»çš„å°è±¡ã€‚åŒæ—¶ï¼Œæ”¹é€ å‰åçš„ä»£ç ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨GitHubçš„<a href="https://github.com/cyndibaby905/08_Dart_Sample">Dart_Sample</a>ä¸­æ‰¾åˆ°ï¼š</p><pre><code>class Meta {
  double price;
  String name;
  //æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–
  Meta(this.name, this.price);
}

class Item extends Meta{
  Item(name, price) : super(name, price);
  //é‡è½½+è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“
  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price); 
}

abstract class PrintHelper {
  printInfo() =&gt; print(getInfo());
  getInfo();
}

//withè¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°
class ShoppingCart extends Meta with PrintHelper{
  DateTime date;
  String code;
  List&lt;Item&gt; bookings;
  //ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ
  double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;
  //é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³withCodeå‡½æ•°
  ShoppingCart({name}) : this.withCode(name:name, code:null);
  //withCodeåˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•
  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);

  //??è¿ç®—ç¬¦è¡¨ç¤ºä¸ºcodeä¸ä¸ºnullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼&quot;æ²¡æœ‰&quot;
  @override
  getInfo() =&gt; '''
è´­ç‰©è½¦ä¿¡æ¯:
-----------------------------
  ç”¨æˆ·å: $name
  ä¼˜æƒ ç : ${code??&quot;æ²¡æœ‰&quot;}
  æ€»ä»·: $price
  Date: $date
-----------------------------
''';
}

void main() {
  ShoppingCart.withCode(name:'å¼ ä¸‰', code:'123456')
  ..bookings = [Item('è‹¹æœ',10.0), Item('é¸­æ¢¨',20.0)]
  ..printInfo();

  ShoppingCart(name:'æå››')
  ..bookings = [Item('é¦™è•‰',15.0), Item('è¥¿ç“œ',40.0)]
  ..printInfo();
}
</code></pre><h2>æ€è€ƒé¢˜</h2><p>è¯·ä½ æ‰©å±•è´­ç‰©è½¦ç¨‹åºçš„å®ç°ï¼Œä½¿å¾—æˆ‘ä»¬çš„è´­ç‰©è½¦å¯ä»¥æ”¯æŒï¼š</p><ol>
<li>å•†å“æ•°é‡å±æ€§ï¼›</li>
<li>è´­ç‰©è½¦ä¿¡æ¯å¢åŠ å•†å“åˆ—è¡¨ä¿¡æ¯ï¼ˆåŒ…æ‹¬å•†å“åç§°ï¼Œæ•°é‡åŠå•ä»·ï¼‰è¾“å‡ºï¼Œå®ç°å°ç¥¨çš„åŸºæœ¬åŠŸèƒ½ã€‚</li>
</ol><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ç­‰å¾…ä½ ï¼æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p></p>
<style>
    ul {
      list-style: none;
      display: block;
      list-style-type: disc;
      margin-block-start: 1em;
      margin-block-end: 1em;
      margin-inline-start: 0px;
      margin-inline-end: 0px;
      padding-inline-start: 40px;
    }
    li {
      display: list-item;
      text-align: -webkit-match-parent;
    }
    ._2sjJGcOH_0 {
      list-style-position: inside;
      width: 100%;
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      margin-top: 26px;
      border-bottom: 1px solid rgba(233,233,233,0.6);
    }
    ._2sjJGcOH_0 ._3FLYR4bF_0 {
      width: 34px;
      height: 34px;
      -ms-flex-negative: 0;
      flex-shrink: 0;
      border-radius: 50%;
    }
    ._2sjJGcOH_0 ._36ChpWj4_0 {
      margin-left: 0.5rem;
      -webkit-box-flex: 1;
      -ms-flex-positive: 1;
      flex-grow: 1;
      padding-bottom: 20px;
    }
    ._2sjJGcOH_0 ._36ChpWj4_0 ._2zFoi7sd_0 {
      font-size: 16px;
      color: #3d464d;
      font-weight: 500;
      -webkit-font-smoothing: antialiased;
      line-height: 34px;
    }
    ._2sjJGcOH_0 ._36ChpWj4_0 ._2_QraFYR_0 {
      margin-top: 12px;
      color: #505050;
      -webkit-font-smoothing: antialiased;
      font-size: 14px;
      font-weight: 400;
      white-space: normal;
      word-break: break-all;
      line-height: 24px;
    }
    ._2sjJGcOH_0 ._10o3OAxT_0 {
      margin-top: 18px;
      border-radius: 4px;
      background-color: #f6f7fb;
    }
    ._2sjJGcOH_0 ._3klNVc4Z_0 {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      -webkit-box-pack: justify;
      -ms-flex-pack: justify;
      justify-content: space-between;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      margin-top: 15px;
    }
    ._2sjJGcOH_0 ._10o3OAxT_0 ._3KxQPN3V_0 {
      color: #505050;
      -webkit-font-smoothing: antialiased;
      font-size: 14px;
      font-weight: 400;
      white-space: normal;
      word-break: break-word;
      padding: 20px 20px 20px 24px;
    }
    ._2sjJGcOH_0 ._3klNVc4Z_0 {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      -webkit-box-pack: justify;
      -ms-flex-pack: justify;
      justify-content: space-between;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      margin-top: 15px;
    }
    ._2sjJGcOH_0 ._3Hkula0k_0 {
      color: #b2b2b2;
      font-size: 14px;
    }
</style><ul><li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/10/08/fd/3f3dca30.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>relax</span>
  </div>
  <div class="_2_QraFYR_0">èƒ½ä¸èƒ½æ‰€æœ‰çš„ç¤ºä¾‹ä»£ç æ”¾åˆ°ä¸€ä¸ªgitä¸‹é¢</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: ä»£ç è¿˜æ˜¯è¦åˆ†å¼€æ”¾çš„ï¼Œå› ä¸ºæ¯èŠ‚åˆ†äº«éƒ½æ˜¯ç‹¬ç«‹çš„ä¸€ä¸ªå¯è¿è¡Œå·¥ç¨‹ï¼Œä¸åªæ˜¯ä»£ç ï¼Œè¿˜æœ‰CIå’Œå•æµ‹ä¸€å †å·¥ç¨‹ç›¸å…³çš„ä¸œè¥¿ï¼Œé›†ä¸­æ”¾å°±æ²¡æ³•ç®¡ç†äº†ã€‚<br>æˆ‘å•èµ·äº†ä¸€ä¸ªä»“åº“ï¼Œç”¨submoduleçš„æ–¹å¼æŠŠè¿™äº›demoéƒ½æ”¶è¿›å»äº†ï¼Œå¯ä»¥è‡ªå–<br>https:&#47;&#47;github.com&#47;cyndibaby905&#47;flutter_core_demo</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-08-14 08:51:31</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/18/77/ff/4ce0aa51.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>Î©</span>
  </div>
  <div class="_2_QraFYR_0">Item operator+(Item item) =&gt; I...<br>double get price =&gt; bookings...<br><br>è¿™ä¸ªæ”¹é€ +å·çš„ä»£ç è¿˜æ˜¯æ— æ³•çœ‹æ‡‚<br></div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: operator+ï¼šæŠŠä¸¤ä¸ªItemå¯¹è±¡åˆå¹¶ä¸ºä¸€ä¸ªã€‚æ–°Itemå¯¹è±¡çš„nameä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡çš„nameæ‹¼æ¥è€Œæˆï¼Œpriceä¸ºä»–ä»¬çš„priceç›¸åŠ è€Œæˆã€‚<br><br>get priceï¼šå¯¹åˆ—è¡¨æ•°æ®é‡‡ç”¨ç´¯åŠ çš„æ–¹å¼è¿›è¡Œæ±‚å’Œã€‚è¿™é‡Œç”¨åˆ°äº†reduceæ–¹æ³•ã€‚reduceæ˜¯å‡½æ•°è¿­ä»£æ–¹æ³•ï¼Œéœ€è¦ä¼ é€’ä¸€ä¸ªäºŒå…ƒå‡½æ•°è¿›è¡Œåˆ—è¡¨çš„åˆå¹¶å·¥ä½œã€‚list[0...n].reduce(f)ç­‰äºï¼š<br>a0 = list[0]<br>a1 = f(a0,list[1])<br>a2 = f(a1,list[2])<br>an = f(an-1,list[n])<br>åœ¨è¿™é‡Œæˆ‘ä»¬çš„fæ˜¯æ±‚å’Œå‡½æ•°f(x,y)=x+yï¼Œå¯ä»¥ç†è§£æˆan=list[0]+list[1]+list[n-1]+list[n]</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-07-16 14:09:29</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/11/24/07/380666e3.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>bytecode</span>
  </div>
  <div class="_2_QraFYR_0">double get price() {<br>  double sum = 0.0;<br>  for(var i in bookings) {<br>    sum += i.price;<br>  }<br>  return sum;<br>} <br><br>æ–‡ä¸­è¿™é‡Œçš„price()æ˜¯å¤šäº†æ‹¬å·()ï¼Œè¦å»æ‰()</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: æ„Ÿè°¢æé†’</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-07-16 08:33:42</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/16/a9/09/fd67d691.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>jia58960</span>
  </div>
  <div class="_2_QraFYR_0">å¤§æ¦‚èƒ½çœ‹æ‡‚å¹¶å®ç°ä»£ç ï¼Œä½†æ„é€ å‡½æ•°ä¸­çš„å±æ€§ä»€ä¹ˆæ—¶å€™ç”¨this.å±æ€§ï¼Œä»€ä¹ˆæ—¶å€™ä¸ç”¨thisï¼Œå¸Œæœ›è€å¸ˆèƒ½å›ç­”ä¸‹ã€‚</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: ç±»çš„å®ä¾‹å˜é‡ï¼š1.æ˜¯å£°æ˜æ—¶å®šä¹‰çš„ï¼Œå¯ä»¥ç”¨thisè¯­æ³•ç³–èµ‹å€¼ï¼›2.æ˜¯ç»§æ‰¿æ¥çš„ï¼Œä¸èƒ½ç”¨thisï¼Œéœ€è¦æŠŠè¿™ä¸ªå€¼äº¤ç»™superè®©çˆ¶ç±»èµ‹å€¼</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-07-24 16:36:32</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/16/3a/58/494a6aca.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>Paradise</span>
  </div>
  <div class="_2_QraFYR_0">è¿™ç§ç»“åˆä»£ç çš„æ–¹å¼å¾ˆå‹å¥½ï¼Œå¯ä»¥ä¸€è¾¹å¬ä¸€è¾¹ä¸Šæ‰‹ï¼Œæ›´å®¹æ˜“ç†è§£...ğŸ˜€</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-07-16 11:25:41</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/12/93/80/ccf2f428.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>ç°ç°</span>
  </div>
  <div class="_2_QraFYR_0">abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>class Meta {<br>  double price;<br>  String name;<br>  Meta(this.name, this.price);<br>}<br><br>&#47;&#47; å®šä¹‰å•†å“Itemç±»<br>class Item extends Meta {<br>  int count;<br>  Item(name, price, this.count): super(name, price);<br>  Item operator+(Item item) =&gt; Item(name + item.name, price * count + (item.price * item.count), 1);<br>}<br><br>&#47;&#47;å®šä¹‰è´­ç‰©è½¦ç±»<br>class ShoppingCart extends Meta with PrintHelper {<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br><br>  double get price =&gt; bookings.reduce((value, element) =&gt; (value + element)).price;<br>&#47;&#47;  ShoppingCart(name, this.code): date = DateTime.now(), super(name,0);<br>  ShoppingCart({name}): this.withCode(name: name, code: null);<br>  ShoppingCart.withCode({name, this.code}): date = DateTime.now(), super(name, 0);<br>  getInfo () =&gt; &#39;&#39;&#39;<br>     è´­ç‰©è½¦ä¿¡æ¯:<br>     <br>     ----------------<br>     å•†å“å    å•ä»·    æ•°é‡    æ€»ä»·<br>     ----------------<br>     ${bookings.map((item) =&gt; &#39;${item.name}  ${item.price}  ${item.count}  ${item.price * item.count}&#39;).join(&#39;\n     &#39;)}<br>     <br>     ================<br>     ç”¨æˆ·åï¼š $name<br>     ä¼˜æƒ ç ï¼š ${code ?? &quot;æ²¡æœ‰&quot;}<br>     æ€»ä»·ï¼š $price<br>     æ—¥æœŸï¼š $date<br>  &#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name: &#39;å¼ ä¸‰&#39;, code: &#39;123456&#39;)<br>  ..bookings = [Item(&#39;è‹¹æœ&#39;, 10.0, 3), Item(&#39;é¸­æ¢¨&#39;, 20.0, 1)]<br>  ..printInfo();<br><br>  ShoppingCart(name: &#39;æå››&#39;)<br>  ..bookings = [Item(&#39;é¦™è•‰&#39;, 2.4, 2), Item(&#39;èŠ’æœ&#39;, 6.8, 4)]<br>  ..printInfo();<br>}</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: èµ</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-07-27 20:43:29</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/16/3b/3b/b8c00291.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>Uncle.Wang</span>
  </div>
  <div class="_2_QraFYR_0">class Meta {<br>  double price;<br>  String name;<br>  &#47;&#47; æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–<br>  Meta(this.name, this.price);<br>}<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>class Item extends Meta with PrintHelper {<br>  int count;<br>  Item(name, price, {int count = 1}): super(name, price) {<br>    this.count = count;<br>  }<br>  &#47;&#47; é‡è½½ + è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“<br>  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price); <br>    @override<br>  getInfo() =&gt; &#39;&#39;&#39;<br>    å•†å“å: $name<br>    å•ä»·: $price<br>    æ•°é‡: $count<br>    ---------------<br>&#39;&#39;&#39;;<br>}<br><br>&#47;&#47;with è¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°<br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br>  &#47;&#47; ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ<br>  double get price =&gt; bookings.reduce((value, element) =&gt; value + element).price;<br>  &#47;&#47; é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³ withCode å‡½æ•°<br>  ShoppingCart({name}) : this.withCode(name:name, code:null);<br>  &#47;&#47;withCode åˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•<br>  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);<br><br>  getBookingInfo() {<br>    String str = &quot;&quot;;<br>    for (Item item in bookings) {<br>      str += item.getInfo();<br>    }<br>    return str;<br>  }<br><br>  &#47;&#47;?? è¿ç®—ç¬¦è¡¨ç¤ºä¸º code ä¸ä¸º nullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼ &quot; æ²¡æœ‰ &quot;<br>  @override<br>  getInfo() =&gt; &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code??&quot; æ²¡æœ‰ &quot;}<br>  æ€»ä»·: $price<br>  Date: $date<br>  å•†å“åˆ—è¡¨ï¼š<br>    ---------------<br>${ getBookingInfo() }<br>-----------------------------<br>&#39;&#39;&#39;;<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name:&#39;å¼ ä¸‰&#39;, code:&#39;123456&#39;)<br>  ..bookings = [Item(&#39;è‹¹æœ&#39;,10.0, count: 10), Item(&#39;é¸­æ¢¨&#39;,20.0, count: 5)]<br>  ..printInfo();<br><br>  ShoppingCart(name:&#39;æå››&#39;)<br>  ..bookings = [Item(&#39;é¦™è•‰&#39;,15.0), Item(&#39;è¥¿ç“œ&#39;,40.0)]<br>  ..printInfo();<br>}<br></div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: éå¸¸æ£’ï¼</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-08-20 00:31:32</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epxMjZcn8LFy6PIT7uGzUOHTCZosTwh39jBKlyW3Ffzyscm14PQGh3QZ1GrEGF4UWxwKZrAib8AXCA/132"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>æ±Ÿå®å½­äºæ™</span>
  </div>
  <div class="_2_QraFYR_0">class Meta {<br>  double price;<br>  String name;<br>  &#47;&#47; æˆå‘˜å˜é‡åˆå§‹åŒ–è¯­æ³•ç³–<br>  Meta(this.name, this.price);<br>}<br><br>class Item extends Meta{<br>  Item(name, price) : super(name, price);<br>  &#47;&#47; é‡è½½ + è¿ç®—ç¬¦ï¼Œå°†å•†å“å¯¹è±¡åˆå¹¶ä¸ºå¥—é¤å•†å“<br>  Item operator+(Item item) =&gt; Item(name + item.name, price + item.price); <br>}<br><br>class Items {<br>  Item item;<br>  double num;<br>  Items(this.item, this.num);<br>  double get totalPrice =&gt; item.price * num; <br>}<br><br>abstract class PrintHelper {<br>  printInfo() =&gt; print(getInfo());<br>  getInfo();<br>}<br><br>&#47;&#47;with è¡¨ç¤ºä»¥éç»§æ‰¿çš„æ–¹å¼å¤ç”¨äº†å¦ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åŠå‡½æ•°<br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Items&gt; bookings;<br>  &#47;&#47; ä»¥å½’çº³åˆå¹¶æ–¹å¼æ±‚å’Œ<br>  double get shopPrice {<br>     double result = 0.0;<br>     bookings.forEach((element) =&gt; result+=element.totalPrice);<br>     return result;<br>  }<br><br>  &#47;&#47; é»˜è®¤åˆå§‹åŒ–å‡½æ•°ï¼Œè½¬å‘è‡³ withCode å‡½æ•°<br>  ShoppingCart({name}) : this.withCode(name:name, code:null);<br>  &#47;&#47;withCode åˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨è¯­æ³•ç³–å’Œåˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œèµ‹å€¼ï¼Œå¹¶è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•<br>  ShoppingCart.withCode({name, this.code}) : date = DateTime.now(), super(name,0);<br><br>  &#47;&#47;?? è¿ç®—ç¬¦è¡¨ç¤ºä¸º code ä¸ä¸º nullï¼Œåˆ™ç”¨åŸå€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤å€¼ &quot; æ²¡æœ‰ &quot;<br>  @override<br>  String getInfo() {<br>  String bookingsResult = &#39;å•†å“æ˜ç»†: \n&#39;;<br>  bookings.forEach((item) =&gt; bookingsResult += &#39;  å•†å“åç§°ï¼š${item.item.name}  å•ä»·ï¼š${item.item.price} æ•°é‡ ï¼š${item.num}  æ€»ä»·ï¼š${item.totalPrice}\n&#39;);<br><br>  return &#39;&#39;&#39;<br>è´­ç‰©è½¦ä¿¡æ¯:<br>-----------------------------<br>  ç”¨æˆ·å: $name<br>  ä¼˜æƒ ç : ${code??&quot; æ²¡æœ‰ &quot;}<br>  $bookingsResult<br>  æ€»ä»·: $shopPrice<br>  Date: $date<br>-----------------------------<br>&#39;&#39;&#39;;<br>  }<br>}<br><br>void main() {<br>  ShoppingCart.withCode(name:&#39;å¼ ä¸‰&#39;, code:&#39;123456&#39;)<br>  ..bookings = [Items(Item(&#39;è‹¹æœ&#39;,10.0),5.0), Items(Item(&#39;é¸­æ¢¨&#39;,20.0),10.0)]<br>  ..printInfo();<br><br>  ShoppingCart(name:&#39;æå››&#39;)<br>  ..bookings = [Items(Item(&#39;é¦™è•‰&#39;,15.0),10.0), Items(Item(&#39;è¥¿ç“œ&#39;,40.0),1.0)]<br>  ..printInfo();<br>}<br></div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: èµğŸ‘<br><br>ä¸è¿‡æ•°é‡ä½œä¸ºItemçš„å±æ€§ä¼šæ›´å¥½ä¸€ç‚¹ã€‚</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-07-19 17:30:03</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/17/77/d4/fc5d50cf.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>äºå°é±¼</span>
  </div>
  <div class="_2_QraFYR_0">Dart 2.12 ä¹‹å Enabling null safety ï¼Œ æ–‡ä¸­çš„ä¾‹å­å°±æœ‰äº†é—®é¢˜ã€‚ <br>booking ä¹Ÿéœ€è¦ Initialize<br>String code éœ€æ”¹ä¸º String? code</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2021-09-25 21:58:46</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/13/1a/82/f039ae08.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>gk</span>
  </div>
  <div class="_2_QraFYR_0">19å¹´çš„è¯¾ï¼Œæ‰çœ‹ï¼Œå¿ä¸ä½å›å¤ä¸‹ï¼Œä¸»è¦æ˜¯å¤ªå¦™äº†ï¼Œä½œè€…çš„è¯¾ç¨‹å®‰æ’å¾ˆå¥½ï¼Œå¦å¤–è¿™å ‚è¯¾çš„ä¾‹å­ï¼Œä»é‡è½½è¿ç®—ç¬¦ï¼Œreduceå¦™ç”¨ï¼Œçº§è”è¿ç®—ç¬¦ï¼Œä¸€ä¸ªæ¯”ä¸€ä¸ªç²¾å½©ï¼Œç»™ä¸ªèµã€‚</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2021-06-10 16:44:59</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/48/55/48de9a24.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>Carlo</span>
  </div>
  <div class="_2_QraFYR_0">çœ‹åˆ°ä¸€æ®µä»£ç ï¼š<br>firebaseService.login().then(<br>                        (value) {<br>                          print(value.toJson());<br>                        },<br>                        onError: (err) {<br>                          print(err);<br>                        },<br>                      );<br><br>è¯·é—®è¿™ä¸ªonErroræ˜¯æ€ä¹ˆå›äº‹å•Šã€‚ä¸ºä»€ä¹ˆä¼šè¢«æ‰§è¡Œå‘¢ï¼Ÿ  è¿™æ˜¯dartç‰¹æœ‰çš„è¯­æ³•ä¹ˆï¼Ÿ<br>æˆ‘æ‰€çŸ¥é“çš„ä¸€èˆ¬sync functionçš„è¯­æ³•æ˜¯<br><br>thisFunction()<br>    .catch(console.error)<br>    .then(() =&gt; console.log(&#39;We do cleanup here&#39;));</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: ç»™ä½ å±•å¼€ä¸€ä¸‹ä½ å°±æ˜ç™½äº†ï¼š<br>funcThatThrows()<br>  .then(successCallback, onError: (e) {<br>    handleError(e);          &#47;&#47; Original error.<br>    anotherFuncThatThrows(); &#47;&#47; new error.<br>  })<br>  .catchError(handleError);  &#47;&#47; Error from within then() handled.</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-10-15 03:29:02</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/12/04/37/aa04f997.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>å’Œå°èƒ–</span>
  </div>
  <div class="_2_QraFYR_0">è€å¸ˆæ‚¨çš„ç¬¬äºŒä¸ªé¢˜ç›®ï¼Œæˆ‘ç†è§£æ˜¯è¦åšæ¯ä¸€ç§å•†å“çš„åˆ†ç±»ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯ç”¨äº†ä»¥å‰è¯­è¨€çš„æ€è·¯æ¥åšäº†ã€‚éº»çƒ¦è€å¸ˆï¼Œçœ‹çœ‹æ˜¯å¦æ­£ç¡®ã€‚<br><br>å…³é”®ä»£ç å¦‚ä¸‹ï¼š<br>&#47;&#47;å®šä¹‰è´­ç‰©è½¦ç±»<br>class ShoppingCar extends Meta with PrintHelper {<br>  DateTime date; &#47;&#47;è´­ç‰©æ—¥æœŸ<br>  String code; &#47;&#47;ä¼˜æƒ åˆ¸<br>  List&lt;Item&gt; _bookings; &#47;&#47;å®šä¹‰ç§æœ‰å±æ€§<br>  num count; &#47;&#47;å•†å“æ•°é‡<br><br>  &#47;&#47;æ±‚å‡ºæ€»ä»·<br>  double get price =&gt;<br>      books.reduce((value, element) =&gt; value + element).price;<br><br>  List&lt;Item&gt; get books =&gt; _bookings;<br><br>  &#47;&#47;ç»™bookingså®šä¹‰setæ–¹æ³•<br>  set book(List&lt;Item&gt; bookings) {<br>    this._bookings = bookings;<br>    this.count = bookings.length;<br>  }<br><br>  &#47;&#47;è·å–åˆ†ç±»äº§å“ä¿¡æ¯<br>  String getGoodsInfo() {<br>    StringBuffer temp = new StringBuffer();<br>    Map map = new Map&lt;String, List&lt;Item&gt;&gt;();<br>    books.forEach((item) {<br>      if (!map.containsKey(item.name)) {<br>        List list = new List&lt;Item&gt;();<br>        list.add(item);<br>        map[item.name] = list;<br>      } else {<br>        (map[item.name] as List&lt;Item&gt;).add(item);<br>      }<br>    });<br>    map.forEach((k, v) {<br>      temp.write(&quot;å•†å“åç§°ï¼š$k,è¯¥ç§å•†å“æ•°é‡ï¼š${(v as List).length},è¯¥ç§å•†å“å•ä»·ï¼š${(v as List&lt;Item&gt;)[0].price}å…ƒ\n&quot;);<br>      print(&quot;$k,$v&quot;);<br>    });<br>    return temp.toString();<br>  }<br><br>  &#47;&#47;è¿™ç§è¡¨è¾¾å¼èµ‹å€¼è¿˜æ˜¯æŒºæ–¹ä¾¿çš„<br>  ShoppingCar.withCode({name, this.code}): this.date = DateTime.now(),super(name, 0.0);<br><br>  ShoppingCar({name}) : this.withCode(name: name, code: null);<br><br>  @override<br>  getInfo() {<br>    return &#39;&#39;&#39;<br>      è´­ç‰©è½¦ä¿¡æ¯ï¼š<br>      ----------------------<br>      ç”¨æˆ·åï¼š$name<br>      ä¼˜æƒ ç ï¼š${code ?? &quot;æ²¡æœ‰ä¼˜æƒ åˆ¸å•Š&quot;}<br>      å•†å“æ€»é‡ï¼š$count<br>      æ€»ä»·ï¼š$price  <br>      æ—¥æœŸï¼š$date<br>      ${getGoodsInfo()}<br>      ----------------------<br>  &#39;&#39;&#39;;<br>  }<br>}<br><br>è¿è¡Œåä¿¡æ¯å¦‚ä¸‹ï¼šè´­ç‰©è½¦ä¿¡æ¯ï¼š<br>      ----------------------<br>      ç”¨æˆ·åï¼šå°æ<br>      ä¼˜æƒ ç ï¼šæ²¡æœ‰ä¼˜æƒ åˆ¸å•Š<br>      å•†å“æ€»é‡ï¼š3<br>      æ€»ä»·ï¼š29.0  <br>      æ—¥æœŸï¼š2019-08-14 22:01:24.437085<br>      å•†å“åç§°ï¼šè‹¹æœ,è¯¥ç§å•†å“æ•°é‡ï¼š2,è¯¥ç§å•†å“å•ä»·ï¼š10.0å…ƒ<br>      å•†å“åç§°ï¼šæ¢¨,è¯¥ç§å•†å“æ•°é‡ï¼š1,è¯¥ç§å•†å“å•ä»·ï¼š9.0å…ƒ<br>      ----------------------</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: ç»“æœå€’æ˜¯å¯¹ï¼Œä½†æ˜¯è¿™ä¸ªè´­ç‰©è½¦ä¸æˆ‘ä»¬ç†è§£çš„è´­ç‰©è½¦è¿˜æ˜¯æœ‰å·®å¼‚ï¼š<br>1.countå±æ€§åº”è¯¥æ˜¯Itemå¯¹è±¡çš„ï¼šä¸€ä¸ªItemå¯¹è±¡æœ‰countä¸ªï¼Œè€Œä¸æ˜¯ä¸€ç›´å¾€è´­ç‰©è½¦å†…åŠ åŒæ ·çš„å¯¹è±¡countæ¬¡ï¼›<br>2.ç”±äºä½ çš„countå±æ€§æ— æ³•æ‹†åˆ†åˆ°Itemç±»ï¼Œå¯¼è‡´getGoodsInfoçš„è®¡ç®—å¼‚å¸¸ç¹çäº†ã€‚å¦‚æœcountå±æ€§åœ¨Itemç±»ï¼ŒgetGoodsInfoè®¡ç®—å¯ä»¥æ”¶æ•›åˆ°Itemå¯¹è±¡ç±»å†…éƒ¨ã€‚</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-08-14 22:09:48</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/12/c9/36/8e7aec6c.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>åˆ˜è£æ¸…</span>
  </div>
  <div class="_2_QraFYR_0">åœ¨vs codeå·²ç»å®‰è£…dartã€code runneræ’ä»¶ï¼Œæœ¬åœ°ä¹Ÿå®‰è£…å®Œdart SDKï¼Œç„¶åé€šè¿‡vs codeè¿è¡Œdart æç¤ºï¼šdart : æ— æ³•å°†â€œdartâ€é¡¹è¯†åˆ«ä¸º cmdletã€å‡½æ•°...<br>ä½†åœ¨cmd æ§åˆ¶æ¿ä¸­å°±å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œè¿™æ˜¯ä¸ºå’‹å•Šï¼Œvs codeéœ€è¦é¢å¤–é…ç½®å’‹å—</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: æŠŠdartå‘½ä»¤æ‰€åœ¨çš„ç›®å½•è®¾ç½®æˆç¯å¢ƒå˜é‡PATH</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-08-03 11:06:56</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/4f/86/ba472895.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>é»„é‡‘åˆ†å‰²</span>
  </div>
  <div class="_2_QraFYR_0">è€å¸ˆçš„dart æ¯”è¾ƒæ—§äº†. å¦‚æœå¤§å®¶ä½¿ç”¨äº†2.12ä»¥ä¸Šçš„dart, å¼•å…¥äº†æ–°ç‰¹æ€§null safety, ä¼šæŠ¥é”™ argument_type_not_assignable. ShoppingCarté‡Œçš„codeéœ€è¦è¿™æ ·å£°æ˜æ‰è¡Œ. String? code;</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-12-03 22:12:54</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/1e/c7/a9/19aad8d6.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>åˆ©å§†éœ²Â·å¦æ´¾æ–¯ç‰¹</span>
  </div>
  <div class="_2_QraFYR_0">å› ä¸ºdartçš„nullå®‰å…¨ï¼Œç°åœ¨è¦æ­£å¸¸æ‰§è¡Œä¸Šé¢çš„ä»£ç çš„è¯ã€‚éœ€è¦åœ¨ShoppingCartä¸­å¯¹codeå±æ€§ä»¥åŠbookingsçš„é‚£ä¸ªå±æ€§åšä¸€äº›å£°æ˜ä¸Šçš„æ›´æ”¹ã€‚ä½¿å…¶ç©ºå€¼å®‰å…¨æ‰èƒ½é€šè¿‡ç¼–è¯‘ã€‚å»ºè®®å„ä½å°è¯• ? è·Ÿ late è¿™ä¸¤ç§æ–¹å¼ä½¿å…¶ç©ºå€¼å®‰å…¨ã€‚</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-09-11 11:41:14</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/22/f5/fc/90c92bcc.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>åœŸè±†åœŸè±†æ³¥</span>
  </div>
  <div class="_2_QraFYR_0">å¹²è´§æ»¡æ»¡</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-05-08 07:38:58</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/10/31/c8/a64e4aef.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>å…”æ–¯åŸº</span>
  </div>
  <div class="_2_QraFYR_0">æ–°ç‰ˆæœ¬å¯æ§å­—æ®µéœ€è¦æ ‡è¯†ï¼ˆDart 2.10.5ï¼‰<br>String? code;<br>å¦åˆ™ä¼šç¼–è¯‘ä¸é€šè¿‡</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2022-05-01 14:20:32</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/11/89/56/6c1a6f22.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>æ°ç‘</span>
  </div>
  <div class="_2_QraFYR_0">class Meta{<br>  String name;<br>  double price;<br>  Meta(this.name,this.price);<br>}<br><br>abstract class PrintHelper{<br>  printInfo() =&gt; print(getPrintInfo());<br><br>  String getPrintInfo();<br>}<br><br>&#47;&#47;å®šä¹‰å•†å“Itemç±»<br>class Item extends Meta with PrintHelper{<br>  int count;<br><br>  Item({name, price}) : this.withCount(name:name,price:price,count:1);<br><br>  Item.withCount({name, price, this.count}):super(name,price);<br><br>  Item operator+(Item item) =&gt; Item(name:name+item.name, price:price*count+item.price*item.count);<br><br>  @override<br>  String getPrintInfo(){<br>    return &#39;\t  $name \t\t $price \t  $count \t ${price*count}&#39;;<br>  }<br>}<br><br>&#47;&#47;å®šä¹‰è´­ç‰©è½¦ç±»<br>class ShoppingCart extends Meta with PrintHelper{<br>  DateTime date;<br>  String code;<br>  List&lt;Item&gt; bookings;<br><br>  ShoppingCart({String name}):this.withCode(name:name, code:null);<br><br>  ShoppingCart.withCode({String name, this.code}):date = DateTime.now(),super(name,0);<br><br>  double get price =&gt; bookings.reduce((value,element) =&gt; value + element).price;<br><br>  @override<br>  String getPrintInfo(){<br>    String itemDetailPrintInfo = &#39;&#39;;<br>    bookings.forEach((item)=&gt;{<br>    itemDetailPrintInfo = itemDetailPrintInfo+item.getPrintInfo() + &#39;\n&#39;<br>    });<br>    return &#39;&#39;&#39;<br>  è´­ç‰©è½¦ä¿¡æ¯ï¼š<br>  -----------------------------<br>      ç”¨æˆ·åï¼š$name<br>      ä¼˜æƒ ç ï¼š${code??&quot;æ— &quot;}<br>      æ€»ä»·ï¼š  $price<br>      æ—¥æœŸï¼š  $date<br>  -----------------------------<br><br>  å•†å“è¯¦æƒ…ï¼š<br>  -----------------------------<br>      å•†å“å \t å•ä»· \t æ•°é‡ \t æ€»ä»·<br>  $itemDetailPrintInfo<br>  -----------------------------<br>  &#39;&#39;&#39;;<br>  }<br>}<br><br>void main(){<br>  ShoppingCart(name:&#39;å¼ ä¸‰&#39;)<br>  ..bookings = [Item(name:&#39;è‹¹æœ&#39;,price:10.0), Item.withCount(name:&#39;é¸­æ¢¨&#39;,price:50.0,count:3)]<br>  ..printInfo();<br><br>  ShoppingCart.withCode(name:&#39;æå››&#39;,code:&#39;123456&#39;) <br>  ..bookings = [Item.withCount(name:&#39;é¦™è•‰&#39;,price:15.0,count:2), Item(name:&#39;è¥¿ç“œ&#39;,price:40.0)] <br>  ..printInfo();<br>}</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2021-10-13 10:27:20</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/12/d0/9e/eda4bcef.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>è‘£é¹å®‡</span>
  </div>
  <div class="_2_QraFYR_0">PrintHelper ä¸ ShoppingCartçš„å…³ç³»ä¸ºä»€ä¹ˆæ˜¯â€œæ··å…¥â€œ è€Œä¸æ˜¯ç»„åˆå‘¢ï¼Ÿæ„Ÿè§‰ æ˜¯has-açš„å…³ç³»è€Œä¸æ˜¯ is-a</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2021-07-29 16:38:07</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/12/f5/ea/5f046856.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>Dale</span>
  </div>
  <div class="_2_QraFYR_0">a. é™æ€æ–¹æ³•æ²¡æœ‰åŠæ³•ä½¿ç”¨ this å…³é”®å­—ï¼›<br>b. æ„é€ å‡½æ•°æˆ–æ™®é€šçš„å®ä¾‹æ–¹æ³•é‡Œé¢ï¼Œthis æŒ‡å‘å½“å‰æ“ä½œçš„å®ä¾‹;<br>c. æ„é€ å‡½æ•°çš„ â€œ:â€ åé¢åˆå§‹åŒ–é‚£ä¸€éƒ¨åˆ†ï¼Œthis æŒ‡å‘å½“å‰ç±»ã€‚<br>--------------------------<br>ä¸çŸ¥é“è¿™ä¸ªç†è§£å¯¹ä¸å¯¹ï¼Ÿ</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2021-07-03 17:06:00</div>
  </div>
</div>
</div>
</li>
</ul>