<audio title="16_ä»å¤œé—´æ¨¡å¼è¯´èµ·ï¼Œå¦‚ä½•å®šåˆ¶ä¸åŒé£æ ¼çš„Appä¸»é¢˜ï¼Ÿ" src="https://static001.geekbang.org/resource/audio/c1/49/c15090c701ab71e2313709e4e560a549.mp3" controls="controls"></audio> 
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™ˆèˆªã€‚ä»Šå¤©ï¼Œæˆ‘å’Œä½ åˆ†äº«çš„ä¸»é¢˜æ˜¯ï¼Œä»å¤œé—´æ¨¡å¼è¯´èµ·ï¼Œå¦‚ä½•å®šåˆ¶ä¸åŒé£æ ¼çš„Appä¸»é¢˜ã€‚</p><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¸ä½ ä»‹ç»äº†ç»„è£…ä¸è‡ªç»˜è¿™ä¸¤ç§è‡ªå®šä¹‰Widgetçš„æ–¹å¼ã€‚å¯¹äºç»„è£…ï¼Œæˆ‘ä»¬æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³çš„å¸ƒå±€é¡ºåºå»åˆ†è§£ç›®æ ‡è§†å›¾ï¼Œå°†åŸºæœ¬çš„Widgetå°è£…åˆ°Columnã€Rowä¸­ï¼Œä»è€Œåˆæˆæ›´é«˜çº§åˆ«çš„Widgetï¼›è€Œå¯¹äºè‡ªç»˜ï¼Œæˆ‘ä»¬åˆ™é€šè¿‡æ‰¿è½½ç»˜åˆ¶é€»è¾‘çš„è½½ä½“CustomPainterï¼Œåœ¨å…¶paintæ–¹æ³•ä¸­ä½¿ç”¨ç”»ç¬”Paintä¸ç”»å¸ƒCanvasï¼Œç»˜åˆ¶ä¸åŒé£æ ¼ã€ä¸åŒç±»å‹çš„å›¾å½¢ï¼Œä»è€Œå®ç°åŸºäºè‡ªç»˜çš„è‡ªå®šä¹‰ç»„ä»¶ã€‚</p><p>å¯¹äºä¸€ä¸ªäº§å“æ¥è¯´ï¼Œåœ¨ä¸šåŠ¡æ—©æœŸå…¶å®æ›´å¤šçš„æ˜¯å¤„ç†åŸºæœ¬åŠŸèƒ½æœ‰å’Œæ— çš„é—®é¢˜ï¼šå·¥ç¨‹å¸ˆæ¥è´Ÿè´£å®ç°åŠŸèƒ½ï¼ŒPMè´Ÿè´£åŠŸèƒ½å¥½ç”¨ä¸å¥½ç”¨ã€‚åœ¨äº§å“çš„åŸºæœ¬åŠŸèƒ½å·²ç»å®Œå–„ï¼Œåšåˆ°äº†å…­ä¸ƒååˆ†çš„æ—¶å€™ï¼Œå†å¾€ä¸Šçš„å¦‚ä½•åšå¢é•¿å°±éœ€è¦è¿è¥æ¥ä»‹å…¥äº†ã€‚</p><p>åœ¨è¿™å…¶ä¸­ï¼Œå¦‚ä½•é€šè¿‡ç”¨æˆ·åˆ†å±‚å»å®ç°Appçš„ä¸ªæ€§åŒ–æ˜¯å¸¸è§çš„å¢é•¿è¿è¥æ‰‹æ®µï¼Œè€Œä¸»é¢˜æ ·å¼æ›´æ¢åˆ™æ˜¯å®ç°ä¸ªæ€§åŒ–ä¸­çš„ä¸€é¡¹é‡è¦æŠ€æœ¯æ‰‹æ®µã€‚</p><p>æ¯”å¦‚ï¼Œå¾®åšã€UCæµè§ˆå™¨å’Œç”µå­ä¹¦å®¢æˆ·ç«¯éƒ½æä¾›äº†å¯¹å¤œé—´æ¨¡å¼çš„æ”¯æŒï¼Œè€Œæ·˜å®ã€äº¬ä¸œè¿™æ ·çš„ç”µå•†ç±»åº”ç”¨ï¼Œè¿˜ä¼šåœ¨ç‰¹å®šçš„ç”µå•†æ´»åŠ¨æ—¥è‡ªåŠ¨æ›´æ–°ä¸»é¢˜æ ·å¼ï¼Œå°±è¿ç°åœ¨çš„æ‰‹æœºæ“ä½œç³»ç»Ÿä¹Ÿæä¾›äº†ç³»ç»Ÿçº§åˆ‡æ¢å±•ç¤ºæ ·å¼çš„èƒ½åŠ›ã€‚</p><p>é‚£ä¹ˆï¼Œè¿™äº›åœ¨åº”ç”¨å†…åˆ‡æ¢æ ·å¼çš„åŠŸèƒ½æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿåœ¨Flutterä¸­ï¼Œåœ¨æ™®é€šçš„åº”ç”¨ä¸Šå¢åŠ åˆ‡æ¢ä¸»é¢˜çš„åŠŸèƒ½åˆè¦åšå“ªäº›äº‹æƒ…å‘¢ï¼Ÿè¿™äº›é—®é¢˜ï¼Œæˆ‘éƒ½ä¼šåœ¨ä»Šå¤©çš„è¿™ç¯‡æ–‡ç« ä¸­ä¸ä½ è¯¦ç»†åˆ†äº«ã€‚</p><!-- [[[read_end]]] --><h2>ä¸»é¢˜å®šåˆ¶</h2><p>ä¸»é¢˜ï¼Œåˆå«çš®è‚¤ã€é…è‰²ï¼Œä¸€èˆ¬ç”±é¢œè‰²ã€å›¾ç‰‡ã€å­—å·ã€å­—ä½“ç­‰ç»„æˆï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒçœ‹åšæ˜¯è§†è§‰æ•ˆæœåœ¨ä¸åŒåœºæ™¯ä¸‹çš„å¯è§†èµ„æºï¼Œä»¥åŠç›¸åº”çš„é…ç½®é›†åˆã€‚æ¯”å¦‚ï¼ŒAppçš„æŒ‰é’®ï¼Œæ— è®ºåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹éƒ½éœ€è¦èƒŒæ™¯å›¾ç‰‡èµ„æºã€å­—ä½“é¢œè‰²ã€å­—å·å¤§å°ç­‰ï¼Œè€Œæ‰€è°“çš„ä¸»é¢˜åˆ‡æ¢åªæ˜¯åœ¨ä¸åŒä¸»é¢˜ä¹‹é—´æ›´æ–°è¿™äº›èµ„æºåŠé…ç½®é›†åˆè€Œå·²ã€‚</p><p>å› æ­¤åœ¨Appå¼€å‘ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¸å…³å¿ƒèµ„æºå’Œé…ç½®çš„è§†è§‰æ•ˆæœå¥½ä¸å¥½çœ‹ï¼Œåªè¦å…³å¿ƒèµ„æºæä¾›çš„è§†è§‰åŠŸèƒ½èƒ½ä¸èƒ½ç”¨ã€‚æ¯”å¦‚ï¼Œå¯¹äºå›¾ç‰‡ç±»èµ„æºï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦å…³å¿ƒå®ƒæ¸²æŸ“å‡ºæ¥çš„å®é™…æ•ˆæœï¼Œåªéœ€è¦ç¡®å®šå®ƒæ¸²æŸ“å‡ºæ¥æ˜¯ä¸€å¼ å›ºå®šå®½é«˜å°ºå¯¸çš„åŒºåŸŸï¼Œä¸å½±å“é¡µé¢å¸ƒå±€ï¼Œèƒ½æŠŠä¸šåŠ¡æµç¨‹è·‘é€šå³å¯ã€‚</p><p><strong>è§†è§‰æ•ˆæœæ˜¯æ˜“å˜çš„ï¼Œæˆ‘ä»¬å°†è¿™äº›å˜åŒ–çš„éƒ¨åˆ†æŠ½ç¦»å‡ºæ¥ï¼ŒæŠŠæä¾›ä¸åŒè§†è§‰æ•ˆæœçš„èµ„æºå’Œé…ç½®æŒ‰ç…§ä¸»é¢˜è¿›è¡Œå½’ç±»ï¼Œæ•´åˆåˆ°ä¸€ä¸ªç»Ÿä¸€çš„ä¸­é—´å±‚å»ç®¡ç†ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½å®ç°ä¸»é¢˜çš„ç®¡ç†å’Œåˆ‡æ¢äº†ã€‚</strong></p><p>åœ¨iOSä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå°†ä¸»é¢˜çš„é…ç½®ä¿¡æ¯é¢„å…ˆå†™åˆ°plistæ–‡ä»¶ä¸­ï¼Œé€šè¿‡ä¸€ä¸ªå•ä¾‹æ¥æ§åˆ¶Appåº”è¯¥ä½¿ç”¨å“ªç§é…ç½®ï¼›è€ŒAndroidçš„é…ç½®ä¿¡æ¯åˆ™å†™å…¥å„ä¸ªstyleå±æ€§å€¼çš„xmlä¸­ï¼Œé€šè¿‡activityçš„setThemeè¿›è¡Œåˆ‡æ¢ï¼›å‰ç«¯çš„å¤„ç†æ–¹å¼ä¹Ÿç±»ä¼¼ï¼Œç®€å•æ›´æ¢csså°±å¯ä»¥å®ç°å¤šå¥—ä¸»é¢˜/é…è‰²ä¹‹é—´çš„åˆ‡æ¢ã€‚</p><p>Flutterä¹Ÿæä¾›äº†ç±»ä¼¼çš„èƒ½åŠ›ï¼Œ<strong>ç”±ThemeDataæ¥ç»Ÿä¸€ç®¡ç†ä¸»é¢˜çš„é…ç½®ä¿¡æ¯</strong>ã€‚</p><p>ThemeDataæ¶µç›–äº†Material Designè§„èŒƒçš„å¯è‡ªå®šä¹‰éƒ¨åˆ†æ ·å¼ï¼Œæ¯”å¦‚åº”ç”¨æ˜æš—æ¨¡å¼brightnessã€åº”ç”¨ä¸»è‰²è°ƒprimaryColorã€åº”ç”¨æ¬¡çº§è‰²è°ƒaccentColorã€æ–‡æœ¬å­—ä½“fontFamilyã€è¾“å…¥æ¡†å…‰æ ‡é¢œè‰²cursorColorç­‰ã€‚å¦‚æœä½ æƒ³æ·±å…¥äº†è§£ThemeDataçš„å…¶ä»–APIå‚æ•°ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£<a href="https://api.flutter.dev/flutter/material/ThemeData/ThemeData.html">ThemeData</a>ã€‚</p><p>é€šè¿‡ThemeDataæ¥è‡ªå®šä¹‰åº”ç”¨ä¸»é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°Appå…¨å±€èŒƒå›´ï¼Œæˆ–æ˜¯Widgetå±€éƒ¨èŒƒå›´çš„æ ·å¼åˆ‡æ¢ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä¾¿åˆ†åˆ«ä¸ä½ è®²è¿°è¿™ä¸¤ç§èŒƒå›´çš„ä¸»é¢˜åˆ‡æ¢ã€‚</p><h2>å…¨å±€ç»Ÿä¸€çš„è§†è§‰é£æ ¼å®šåˆ¶</h2><p>åœ¨Flutterä¸­ï¼Œåº”ç”¨ç¨‹åºç±»MaterialAppçš„åˆå§‹åŒ–æ–¹æ³•ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†è®¾ç½®ä¸»é¢˜çš„èƒ½åŠ›ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å‚æ•°themeï¼Œé€‰æ‹©æ”¹å˜Appçš„ä¸»é¢˜è‰²ã€å­—ä½“ç­‰ï¼Œè®¾ç½®ç•Œé¢åœ¨MaterialAppä¸‹çš„å±•ç¤ºæ ·å¼ã€‚</p><p>ä»¥ä¸‹ä»£ç æ¼”ç¤ºäº†å¦‚ä½•è®¾ç½®Appå…¨å±€èŒƒå›´ä¸»é¢˜ã€‚åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº†Appçš„æ˜æš—æ¨¡å¼brightnessä¸ºæš—è‰²ã€ä¸»è‰²è°ƒä¸ºé’è‰²ï¼š</p><pre><code>MaterialApp(
  title: 'Flutter Demo',//æ ‡é¢˜
  theme: ThemeData(//è®¾ç½®ä¸»é¢˜
      brightness: Brightness.dark,//æ˜æš—æ¨¡å¼ä¸ºæš—è‰²
      primaryColor: Colors.cyan,//ä¸»è‰²è°ƒä¸ºé’è‰²
  ),
  home: MyHomePage(title: 'Flutter Demo Home Page'),
);
</code></pre><p>è¯•ç€è¿è¡Œä¸€ä¸‹ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/9b/30/9b16f0a71c01b336399554ddf7591f30.png?wh=640*1136" alt=""></p><center><span class="reference">å›¾1 Flutterå…¨å±€æ¨¡å¼ä¸»é¢˜</span></center><p>å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶æˆ‘ä»¬åªä¿®æ”¹äº†ä¸»è‰²è°ƒå’Œæ˜æš—æ¨¡å¼ä¸¤ä¸ªå‚æ•°ï¼Œä½†æŒ‰é’®ã€æ–‡å­—é¢œè‰²éƒ½éšä¹‹è°ƒæ•´äº†ã€‚è¿™æ˜¯å› ä¸ºé»˜è®¤æƒ…å†µä¸‹ï¼Œ<strong>ThemeDataä¸­å¾ˆå¤šå…¶ä»–æ¬¡çº§è§†è§‰å±æ€§ï¼Œéƒ½ä¼šå—åˆ°ä¸»è‰²è°ƒä¸æ˜æš—æ¨¡å¼çš„å½±å“</strong>ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦ç²¾ç¡®æ§åˆ¶å®ƒä»¬çš„å±•ç¤ºæ ·å¼ï¼Œéœ€è¦å†ç»†åŒ–ä¸€ä¸‹ä¸»é¢˜é…ç½®ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†iconçš„é¢œè‰²è°ƒæ•´ä¸ºé»„è‰²ï¼Œæ–‡å­—é¢œè‰²è°ƒæ•´ä¸ºçº¢è‰²ï¼ŒæŒ‰é’®é¢œè‰²è°ƒæ•´ä¸ºé»‘è‰²ï¼š</p><pre><code>MaterialApp(
  title: 'Flutter Demo',//æ ‡é¢˜
  theme: ThemeData(//è®¾ç½®ä¸»é¢˜
      brightness: Brightness.dark,//è®¾ç½®æ˜æš—æ¨¡å¼ä¸ºæš—è‰²
      accentColor: Colors.black,//(æŒ‰é’®ï¼‰Widgetå‰æ™¯è‰²ä¸ºé»‘è‰²
      primaryColor: Colors.cyan,//ä¸»è‰²è°ƒä¸ºé’è‰²
      iconTheme:IconThemeData(color: Colors.yellow),//è®¾ç½®iconä¸»é¢˜è‰²ä¸ºé»„è‰²
      textTheme: TextTheme(body1: TextStyle(color: Colors.red))//è®¾ç½®æ–‡æœ¬é¢œè‰²ä¸ºçº¢è‰²
  ),
  home: MyHomePage(title: 'Flutter Demo Home Page'),
);
</code></pre><p>è¿è¡Œä¸€ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°å›¾æ ‡ã€æ–‡å­—ã€æŒ‰é’®çš„é¢œè‰²éƒ½éšä¹‹æ›´æ”¹äº†ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/2c/94/2c033e21d8c0d29735b1860378c35794.png?wh=640*1136" alt=""></p><center><span class="reference">å›¾2 Flutterå…¨å±€æ¨¡å¼ä¸»é¢˜ç¤ºä¾‹2</span></center><h2>å±€éƒ¨ç‹¬ç«‹çš„è§†è§‰é£æ ¼å®šåˆ¶</h2><p>ä¸ºæ•´ä¸ªAppæä¾›ç»Ÿä¸€çš„è§†è§‰å‘ˆç°æ•ˆæœå›ºç„¶å¾ˆæœ‰å¿…è¦ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›ä¸ºæŸä¸ªé¡µé¢ã€æˆ–æ˜¯æŸä¸ªåŒºå—è®¾ç½®ä¸åŒäºAppé£æ ¼çš„å±•ç°æ ·å¼ã€‚ä»¥ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸ºä¸åŒçš„ä¸»é¢˜æä¾›ä¸åŒçš„å±•ç¤ºé¢„è§ˆã€‚</p><p>åœ¨Flutterä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Themeæ¥å¯¹Appçš„ä¸»é¢˜è¿›è¡Œå±€éƒ¨è¦†ç›–ã€‚Themeæ˜¯ä¸€ä¸ªå•å­Widgetå®¹å™¨ï¼Œä¸MaterialAppç±»ä¼¼çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®å…¶dataå±æ€§ï¼Œå¯¹å…¶å­Widgetè¿›è¡Œæ ·å¼å®šåˆ¶ï¼š</p><ul>
<li>å¦‚æœæˆ‘ä»¬ä¸æƒ³ç»§æ‰¿ä»»ä½•Appå…¨å±€çš„é¢œè‰²æˆ–å­—ä½“æ ·å¼ï¼Œå¯ä»¥ç›´æ¥æ–°å»ºä¸€ä¸ªThemeDataå®ä¾‹ï¼Œä¾æ¬¡è®¾ç½®å¯¹åº”çš„æ ·å¼ï¼›</li>
<li>è€Œå¦‚æœæˆ‘ä»¬ä¸æƒ³åœ¨å±€éƒ¨é‡å†™æ‰€æœ‰çš„æ ·å¼ï¼Œåˆ™å¯ä»¥ç»§æ‰¿Appçš„ä¸»é¢˜ï¼Œä½¿ç”¨copyWithæ–¹æ³•ï¼Œåªæ›´æ–°éƒ¨åˆ†æ ·å¼ã€‚</li>
</ul><p>ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†è¿™ä¸¤ç§æ–¹å¼çš„ç”¨æ³•ï¼š</p><pre><code>// æ–°å»ºä¸»é¢˜
Theme(
    data: ThemeData(iconTheme: IconThemeData(color: Colors.red)),
    child: Icon(Icons.favorite)
);

// ç»§æ‰¿ä¸»é¢˜
Theme(
    data: Theme.of(context).copyWith(iconTheme: IconThemeData(color: Colors.green)),
    child: Icon(Icons.feedback)
);
</code></pre><p><img src="https://static001.geekbang.org/resource/image/31/1f/31523a1f0bd4f6150b3d3c59102c831f.png?wh=640*1136" alt=""></p><center><span class="reference">å›¾3 Themeå±€éƒ¨ä¸»é¢˜æ›´æ”¹ç¤ºä¾‹</span></center><p>å¯¹äºä¸Šè¿°ä¾‹å­è€Œè¨€ï¼Œç”±äºThemeçš„å­Widgetåªæœ‰ä¸€ä¸ªIconç»„ä»¶ï¼Œå› æ­¤è¿™ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥å®ç°è¦†ç›–å…¨å±€ä¸»é¢˜ï¼Œä»è€Œæ›´æ”¹Iconæ ·å¼çš„éœ€æ±‚ã€‚è€Œåƒè¿™æ ·ä½¿ç”¨å±€éƒ¨ä¸»é¢˜è¦†ç›–å…¨å±€ä¸»é¢˜çš„æ–¹å¼ï¼Œåœ¨Flutterä¸­æ˜¯ä¸€ç§å¸¸è§çš„è‡ªå®šä¹‰å­Widgetå±•ç¤ºæ ·å¼çš„æ–¹æ³•ã€‚</p><p><strong>é™¤äº†å®šä¹‰Material Designè§„èŒƒä¸­é‚£äº›å¯è‡ªå®šä¹‰éƒ¨åˆ†æ ·å¼å¤–ï¼Œä¸»é¢˜çš„å¦ä¸€ä¸ªé‡è¦ç”¨é€”æ˜¯æ ·å¼å¤ç”¨ã€‚</strong></p><p>æ¯”å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä¸ºä¸€æ®µæ–‡å­—å¤ç”¨Materia Designè§„èŒƒä¸­çš„titleæ ·å¼ï¼Œæˆ–æ˜¯ä¸ºæŸä¸ªå­Widgetçš„èƒŒæ™¯è‰²å¤ç”¨Appçš„ä¸»é¢˜è‰²ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡Theme.of(context)æ–¹æ³•ï¼Œå–å‡ºå¯¹åº”çš„å±æ€§ï¼Œåº”ç”¨åˆ°è¿™æ®µæ–‡å­—çš„æ ·å¼ä¸­ã€‚</p><p>Theme.of(context)æ–¹æ³•å°†å‘ä¸ŠæŸ¥æ‰¾Widgetæ ‘ï¼Œå¹¶è¿”å›Widgetæ ‘ä¸­æœ€è¿‘çš„ä¸»é¢˜Themeã€‚å¦‚æœWidgetçš„çˆ¶Widgetä»¬æœ‰ä¸€ä¸ªå•ç‹¬çš„ä¸»é¢˜å®šä¹‰ï¼Œåˆ™ä½¿ç”¨è¯¥ä¸»é¢˜ã€‚å¦‚æœä¸æ˜¯ï¼Œé‚£å°±ä½¿ç”¨Appå…¨å±€ä¸»é¢˜ã€‚</p><p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåŒ…è£…äº†ä¸€ä¸ªTextç»„ä»¶çš„Containerå®¹å™¨ã€‚åœ¨Textç»„ä»¶çš„æ ·å¼å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬å¤ç”¨äº†å…¨å±€çš„titleæ ·å¼ï¼Œè€Œåœ¨Containerçš„èƒŒæ™¯è‰²å®šä¹‰ä¸­ï¼Œåˆ™å¤ç”¨äº†Appçš„ä¸»é¢˜è‰²ï¼š</p><pre><code>Container(
    color: Theme.of(context).primaryColor,//å®¹å™¨èƒŒæ™¯è‰²å¤ç”¨åº”ç”¨ä¸»é¢˜è‰²
    child: Text(
      'Text with a background color',
      style: Theme.of(context).textTheme.title,//Textç»„ä»¶æ–‡æœ¬æ ·å¼å¤ç”¨åº”ç”¨æ–‡æœ¬æ ·å¼
    ));
</code></pre><p><img src="https://static001.geekbang.org/resource/image/ad/90/adeef600fa271f6ebb4eb41f60620290.png?wh=640*1136" alt=""></p><center><span class="reference">å›¾4 ä¸»é¢˜å¤ç”¨ç¤ºä¾‹</span></center><h2>åˆ†å¹³å°ä¸»é¢˜å®šåˆ¶</h2><p>æœ‰æ—¶å€™ï¼Œ<strong>ä¸ºäº†æ»¡è¶³ä¸åŒå¹³å°çš„ç”¨æˆ·éœ€æ±‚ï¼Œæˆ‘ä»¬å¸Œæœ›é’ˆå¯¹ç‰¹å®šçš„å¹³å°è®¾ç½®ä¸åŒçš„æ ·å¼</strong>ã€‚æ¯”å¦‚ï¼Œåœ¨iOSå¹³å°ä¸Šè®¾ç½®æµ…è‰²ä¸»é¢˜ï¼Œåœ¨Androidå¹³å°ä¸Šè®¾ç½®æ·±è‰²ä¸»é¢˜ã€‚é¢å¯¹è¿™æ ·çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®defaultTargetPlatformæ¥åˆ¤æ–­å½“å‰åº”ç”¨æ‰€è¿è¡Œçš„å¹³å°ï¼Œä»è€Œæ ¹æ®ç³»ç»Ÿç±»å‹æ¥è®¾ç½®å¯¹åº”çš„ä¸»é¢˜ã€‚</p><p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸ºiOSä¸Androidåˆ†åˆ«åˆ›å»ºäº†ä¸¤ä¸ªä¸»é¢˜ã€‚åœ¨MaterialAppçš„åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®å¹³å°ç±»å‹ï¼Œè®¾ç½®äº†ä¸åŒçš„ä¸»é¢˜ï¼š</p><pre><code>// iOSæµ…è‰²ä¸»é¢˜
final ThemeData kIOSTheme = ThemeData(
    brightness: Brightness.light,//äº®è‰²ä¸»é¢˜
    accentColor: Colors.white,//(æŒ‰é’®)Widgetå‰æ™¯è‰²ä¸ºç™½è‰²
    primaryColor: Colors.blue,//ä¸»é¢˜è‰²ä¸ºè“è‰²
    iconTheme:IconThemeData(color: Colors.grey),//iconä¸»é¢˜ä¸ºç°è‰²
    textTheme: TextTheme(body1: TextStyle(color: Colors.black))//æ–‡æœ¬ä¸»é¢˜ä¸ºé»‘è‰²
);
// Androidæ·±è‰²ä¸»é¢˜
final ThemeData kAndroidTheme = ThemeData(
    brightness: Brightness.dark,//æ·±è‰²ä¸»é¢˜
    accentColor: Colors.black,//(æŒ‰é’®)Widgetå‰æ™¯è‰²ä¸ºé»‘è‰²
    primaryColor: Colors.cyan,//ä¸»é¢˜è‰²Wieé’è‰²
    iconTheme:IconThemeData(color: Colors.blue),//iconä¸»é¢˜è‰²ä¸ºè“è‰²
    textTheme: TextTheme(body1: TextStyle(color: Colors.red))//æ–‡æœ¬ä¸»é¢˜è‰²ä¸ºçº¢è‰²
);
// åº”ç”¨åˆå§‹åŒ–
MaterialApp(
  title: 'Flutter Demo',
  theme: defaultTargetPlatform == TargetPlatform.iOS ? kIOSTheme : kAndroidTheme,//æ ¹æ®å¹³å°é€‰æ‹©ä¸åŒä¸»é¢˜
  home: MyHomePage(title: 'Flutter Demo Home Page'),
);
</code></pre><p>è¯•ç€è¿è¡Œä¸€ä¸‹ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/ef/c6/efdee5c8d3e46d3b889274bbe3cf80c6.png?wh=640*1136" alt=""></p><center><span class="reference">ï¼ˆaï¼‰iOSå¹³å°</span> </center><p><img src="https://static001.geekbang.org/resource/image/c6/70/c61983ef7ab9047562c338ecd1b46970.png?wh=1440*2560" alt=""></p><center><span class="reference">ï¼ˆbï¼‰Androidå¹³å°</span></center><center><span class="reference">å›¾5 æ ¹æ®ä¸åŒå¹³å°è®¾ç½®å¯¹åº”ä¸»é¢˜</span></center><p>å½“ç„¶ï¼Œé™¤äº†ä¸»é¢˜ä¹‹å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨defaultTargetPlatformè¿™ä¸ªå˜é‡å»å®ç°ä¸€äº›å…¶ä»–éœ€è¦åˆ¤æ–­å¹³å°çš„é€»è¾‘ï¼Œæ¯”å¦‚åœ¨ç•Œé¢ä¸Šä½¿ç”¨æ›´ç¬¦åˆAndroidæˆ–iOSè®¾è®¡é£æ ¼çš„ç»„ä»¶ã€‚</p><h2>æ€»ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œã€‚æˆ‘ä»¬ç®€å•å›é¡¾ä¸€ä¸‹ä»Šå¤©çš„ä¸»è¦å†…å®¹å§ã€‚</p><p>ä¸»é¢˜è®¾ç½®å±äºAppå¼€å‘çš„é«˜çº§ç‰¹æ€§ï¼Œå½’æ ¹ç»“åº•å…¶å®æ˜¯æä¾›äº†ä¸€ç§è§†è§‰èµ„æºä¸è§†è§‰é…ç½®çš„ç®¡ç†æœºåˆ¶ã€‚ä¸å…¶ä»–å¹³å°ç±»ä¼¼ï¼ŒFlutterä¹Ÿæä¾›äº†é›†ä¸­å¼ç®¡ç†ä¸»é¢˜çš„æœºåˆ¶ï¼Œå¯ä»¥åœ¨éµå¾ªMaterial Designè§„èŒƒçš„ThemeDataä¸­ï¼Œå®šä¹‰é‚£äº›å¯å®šåˆ¶åŒ–çš„æ ·å¼ã€‚</p><p>æˆ‘ä»¬æ—¢å¯ä»¥é€šè¿‡è®¾ç½®MaterialAppå…¨å±€ä¸»é¢˜å®ç°åº”ç”¨æ•´ä½“è§†è§‰é£æ ¼çš„ç»Ÿä¸€ï¼Œä¹Ÿå¯ä»¥é€šè¿‡Themeå•å­Widgetå®¹å™¨ä½¿ç”¨å±€éƒ¨ä¸»é¢˜è¦†ç›–å…¨å±€ä¸»é¢˜ï¼Œå®ç°å±€éƒ¨ç‹¬ç«‹çš„è§†è§‰é£æ ¼ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨è‡ªå®šä¹‰ç»„ä»¶è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨Theme.ofæ–¹æ³•å–å‡ºä¸»é¢˜å¯¹åº”çš„å±æ€§å€¼ï¼Œä»è€Œå®ç°å¤šç§ç»„ä»¶åœ¨è§†è§‰é£æ ¼ä¸Šçš„å¤ç”¨ã€‚</p><p>æœ€åï¼Œé¢å¯¹å¸¸è§çš„åˆ†å¹³å°è®¾ç½®ä¸»é¢˜åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®defaultTargetPlatformï¼Œæ¥ç²¾ç¡®è¯†åˆ«å½“å‰åº”ç”¨æ‰€å¤„çš„ç³»ç»Ÿï¼Œä»è€Œé…ç½®å¯¹åº”çš„ä¸»é¢˜ã€‚</p><h2>æ€è€ƒé¢˜</h2><p>æœ€åï¼Œæˆ‘ç»™ä½ ç•™ä¸‹ä¸€ä¸ªè¯¾åå°ä½œä¸šå§ã€‚</p><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¸ä½ ä»‹ç»äº†å¦‚ä½•å®ç°App Storeå‡çº§é¡¹UIè‡ªå®šä¹‰ç»„ä»¶å¸ƒå±€ã€‚ç°åœ¨ï¼Œè¯·åœ¨è¿™ä¸ªè‡ªå®šä¹‰Widgetçš„åŸºç¡€ä¸Šï¼Œå¢åŠ åˆ‡æ¢å¤œé—´æ¨¡å¼çš„åŠŸèƒ½ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/87/54/87fe49b5f8ba32823619040845c19d54.png?wh=1440*2560" alt=""></p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ç­‰å¾…ä½ ï¼æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p></p>
<style>
    ul {
      list-style: none;
      display: block;
      list-style-type: disc;
      margin-block-start: 1em;
      margin-block-end: 1em;
      margin-inline-start: 0px;
      margin-inline-end: 0px;
      padding-inline-start: 40px;
    }
    li {
      display: list-item;
      text-align: -webkit-match-parent;
    }
    ._2sjJGcOH_0 {
      list-style-position: inside;
      width: 100%;
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      margin-top: 26px;
      border-bottom: 1px solid rgba(233,233,233,0.6);
    }
    ._2sjJGcOH_0 ._3FLYR4bF_0 {
      width: 34px;
      height: 34px;
      -ms-flex-negative: 0;
      flex-shrink: 0;
      border-radius: 50%;
    }
    ._2sjJGcOH_0 ._36ChpWj4_0 {
      margin-left: 0.5rem;
      -webkit-box-flex: 1;
      -ms-flex-positive: 1;
      flex-grow: 1;
      padding-bottom: 20px;
    }
    ._2sjJGcOH_0 ._36ChpWj4_0 ._2zFoi7sd_0 {
      font-size: 16px;
      color: #3d464d;
      font-weight: 500;
      -webkit-font-smoothing: antialiased;
      line-height: 34px;
    }
    ._2sjJGcOH_0 ._36ChpWj4_0 ._2_QraFYR_0 {
      margin-top: 12px;
      color: #505050;
      -webkit-font-smoothing: antialiased;
      font-size: 14px;
      font-weight: 400;
      white-space: normal;
      word-break: break-all;
      line-height: 24px;
    }
    ._2sjJGcOH_0 ._10o3OAxT_0 {
      margin-top: 18px;
      border-radius: 4px;
      background-color: #f6f7fb;
    }
    ._2sjJGcOH_0 ._3klNVc4Z_0 {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      -webkit-box-pack: justify;
      -ms-flex-pack: justify;
      justify-content: space-between;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      margin-top: 15px;
    }
    ._2sjJGcOH_0 ._10o3OAxT_0 ._3KxQPN3V_0 {
      color: #505050;
      -webkit-font-smoothing: antialiased;
      font-size: 14px;
      font-weight: 400;
      white-space: normal;
      word-break: break-word;
      padding: 20px 20px 20px 24px;
    }
    ._2sjJGcOH_0 ._3klNVc4Z_0 {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      -webkit-box-pack: justify;
      -ms-flex-pack: justify;
      justify-content: space-between;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      margin-top: 15px;
    }
    ._2sjJGcOH_0 ._3Hkula0k_0 {
      color: #b2b2b2;
      font-size: 14px;
    }
</style><ul><li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/10/99/87/98ebb20e.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>dao</span>
  </div>
  <div class="_2_QraFYR_0">import &#39;package:flutter&#47;cupertino.dart&#39;;<br>import &#39;package:flutter&#47;material.dart&#39;;<br><br>void main() =&gt; runApp(MyThemePage());<br><br>class MyThemePage extends StatelessWidget {<br>  &#47;&#47; iOS æµ…è‰²ä¸»é¢˜<br>  final ThemeData kIOSTheme = ThemeData(<br>      brightness: Brightness.light,<br>      accentColor: Colors.white,<br>      primaryColor: Colors.blue,<br>      iconTheme: IconThemeData(color: Colors.grey),<br>      textTheme: TextTheme(body1: TextStyle(color: Colors.black)));<br><br>  &#47;&#47; Android æ·±è‰²ä¸»é¢˜<br>  final ThemeData kAndroidTheme = ThemeData(<br>      brightness: Brightness.dark, &#47;&#47; æ·±è‰²ä¸»é¢˜<br>      accentColor: Colors.black, &#47;&#47;(æŒ‰é’®)Widget å‰æ™¯è‰²ä¸ºé»‘è‰²<br>      primaryColor: Colors.cyan, &#47;&#47; ä¸»é¢˜è‰²ä¸ºé’è‰²<br>      iconTheme: IconThemeData(color: Colors.blue), &#47;&#47;icon ä¸»é¢˜è‰²ä¸ºè“è‰²<br>      textTheme: TextTheme(body1: TextStyle(color: Colors.red)) &#47;&#47; æ–‡æœ¬ä¸»é¢˜è‰²ä¸ºçº¢è‰²<br>      );<br><br>  Widget build(BuildContext context) {<br>    var theme = MyTheme(<br>      title: &#39;Flutter Demo Home Page&#39;,<br>      themes: [kIOSTheme, kAndroidTheme],<br>    );<br>    return MaterialApp(<br>      title: &#39;My Theme&#39;,<br>      theme: kAndroidTheme,<br>      home: theme,<br>    );<br>  }<br>}<br><br>class MyTheme extends StatefulWidget {<br>  MyTheme({Key key, this.title, this.themes}) : super(key: key);<br><br>  final String title;<br>  final List&lt;ThemeData&gt; themes;<br><br>  _MyThemeState createState() =&gt; _MyThemeState();<br>}<br><br>class _MyThemeState extends State&lt;MyTheme&gt; {<br>  bool isLight;<br><br>  @override<br>  void initState() {<br>    isLight = true;<br>    super.initState();<br>  }<br><br>  @override<br>  Widget build(BuildContext context) {<br>    return Theme(<br>        child: Scaffold(<br>          appBar: AppBar(<br>            title: Text(&#39;Theme switch&#39;),<br>          ),<br>          floatingActionButton: FloatingActionButton(<br>            child: Text(isLight ? &#39;Night&#39; : &#39;Light&#39;),<br>            onPressed: () {<br>              setState(() {<br>                isLight = !isLight;<br>              });<br>            },<br>          ),<br>        ),<br>        data: isLight ? widget.themes[0] : widget.themes[1]);<br>  }<br>}<br></div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: èµ</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-08-10 23:07:50</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/12/93/80/ccf2f428.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>ç°ç°</span>
  </div>
  <div class="_2_QraFYR_0">class _HomeState extends State&lt;Home&gt; with SingleTickerProviderStateMixin {<br>  TabController _controller;<br>  bool isNight = false;<br>  @override<br>  void initState() {<br>    super.initState();<br>    _controller = TabController(length: 2, vsync: this);<br>  }<br><br>  @override<br>  Widget build(BuildContext context) {<br>    return<br>      Theme(<br>        data: ThemeData(<br>          brightness: isNight ? Brightness.dark : Brightness.light,<br>        ),<br>        child: Stack(<br>          children: &lt;Widget&gt;[<br>            Scaffold(<br>              ...<br>            ),<br>            Positioned(<br>              bottom: 20,<br>              right: 20,<br>              child: FloatingActionButton(<br>                onPressed: () {setState(() {<br>                  isNight = !isNight;<br>                });},<br>                child: Text(isNight ? &#39;æ—¥é—´&#39; : &#39;å¤œé—´&#39;),<br>              ),<br>            )<br>          ],<br>        ),<br>      );<br>  }<br><br>  @override<br>  void dispose() {<br>    _controller.dispose();<br>    super.dispose();<br>  }<br>}<br></div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: èµ</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-08-06 22:18:18</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/18/77/ff/4ce0aa51.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>Î©</span>
  </div>
  <div class="_2_QraFYR_0">defaultTargetPlatformè¿™ä¸ªå˜é‡å“ªé‡Œæ¥çš„ï¼Œæ–‡ç« ä¸­æ²¡æœ‰è¯´æ˜æ¸…æ¥š</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: import &#39;package:flutter&#47;foundation.dart&#39;;</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-08-05 14:04:34</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/11/bc/06/d01b419f.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>æ–‡å¿ƒé›•é¾™</span>
  </div>
  <div class="_2_QraFYR_0">ç¬¬ä¸‰æ–¹æ’ä»¶ https:&#47;&#47;pub.dev&#47;packages&#47;dynamic_theme#-readme-tab-</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: èµ</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-08-06 16:10:45</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/10/23/74/e0b9807f.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>å°ç±³</span>
  </div>
  <div class="_2_QraFYR_0">æ€è€ƒé¢˜ï¼š<br>1ã€å¢åŠ ä¸€ä¸ªå¸ƒå°”å˜é‡<br>      bool  _isLight = false<br>2ã€åœ¨ThemeDataä¸­ï¼Œæ ¹æ®_isLightæ¥æ˜¾ç¤ºæ˜¯å¦ä¸ºé«˜äº®æˆ–è€…æš—è‰²ã€‚<br>      brightness: _isLight ? Brightness.light : Brightness.dark<br>3ã€å¢åŠ ä¸€ä¸ªåˆ‡æ¢æŒ‰é’®ï¼Œç‚¹å‡»æ”¹å˜_isLightå€¼ã€‚<br>      FlatButton(onPressed: (){setState(() { _isLight = !_isLight; });},child: Text(_isLight?&quot;ç™½å¤©&quot;:&quot;å¤œé—´&quot;))</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: èµ</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-08-05 09:26:05</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/16/98/02/74cb0645.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>å˜å•¦å„¿ã€‚</span>
  </div>
  <div class="_2_QraFYR_0">è€å¸ˆï¼Œfinal ThemeData kIOSTheme = ThemeData(...çœç•¥)ï¼Œè¿™äº›è¯­æ³•æˆ‘æ²¡çœ‹æ˜ç™½ï¼Œèƒ½ç»™æˆ‘è§£é‡Šä¸‹å—ï¼Ÿæˆ–è€…å¯ä»¥æä¾›å‚è€ƒé“¾æ¥åœ°å€ï¼Ÿ</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2021-07-05 21:45:52</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epk6XJfVGqsW1b5oiatsuvSRkCF4yo2KxSUSf5LHRRTbuCPKJrRiblqRbMZBuicQMgDTO1bRp6vXW7Lg/132"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>jayce</span>
  </div>
  <div class="_2_QraFYR_0">æˆ‘æ¥è¯´ä¸ªappåˆ‡æ¢å¤œé—´æ¨¡å¼çš„,ThemeMode system, light, dark<br><br>Box mainBox;<br>void main() async {<br>  await Hive.initFlutter();<br>  mainBox = await Hive.openBox(&#39;main&#39;);<br>  runApp(MyApp());<br>}<br><br>class MyApp extends StatelessWidget {<br>  @override<br>  Widget build(BuildContext context) {<br>    int modeIndex = mainBox.get(&#39;themeModeIndex&#39;);<br>    ThemeMode themeMode = modeIndex == null ? ThemeMode.system : ThemeMode.values[modeIndex];<br>    return MultiProvider(<br>      providers: [<br>        ChangeNotifierProvider&lt;ValueNotifier&lt;ThemeMode&gt;&gt;(<br>          create: (context) =&gt; ValueNotifier(themeMode),<br>        ),<br>      ],<br>      child: Consumer&lt;ValueNotifier&lt;ThemeMode&gt;&gt;(builder: (context, value, child) {<br>        mainBox.put(&#39;themeModeIndex&#39;, value.value.index);<br>        return MaterialApp(<br>          theme: ThemeData(<br>            brightness: Brightness.light,<br>            primaryColor: Colors.blue,<br>            scaffoldBackgroundColor: Colors.white,<br>          ),<br>          darkTheme: ThemeData(<br>            brightness: Brightness.dark,<br>            primaryColor: Colors.deepPurple,<br>            scaffoldBackgroundColor: Color(0xFF666666),<br>          ),<br>          themeMode: value.value,<br>          home: HomeScreen(),<br>        );<br>      }),<br>    );<br>  }<br>}</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2021-02-23 20:14:50</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/1e/aa/76/37c27871.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>æœ¨æœ¨äº¬å°¤</span>
  </div>
  <div class="_2_QraFYR_0">è€å¸ï¼Œè¯·é—®è°ƒå¤œé—´æ¨¡å¼çš„æ—¶å€™ï¼Œå¦‚æœæƒ³ç»™æ‰€æœ‰çš„é¡µé¢éƒ½åŠ ä¸€å±‚åŠé€æ˜çš„å›¾å±‚ï¼Œåº”è¯¥æ€ä¹ˆè°ƒå‚æ•°ã€‚ä¸å¯èƒ½æ¯ä¸ªé¡µé¢éƒ½æ·»åŠ å›¾å±‚ï¼Œç›®å‰çŸ¥é“å¯ä»¥åœ¨materialapp  themedata  scaffold  è°ƒå‚æ•°ã€‚</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2020-05-24 00:24:25</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/18/bc/0e/c76861eb.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>jianwei</span>
  </div>
  <div class="_2_QraFYR_0">åœ¨å…¨å±€çš„themeä¸­å®šä¹‰å¤šä¸ª textTheme: TextTheme(body1: TextStyle(color: Colors.grey), body2: TextStyle(color: Colors.white), ...)ï¼Œç„¶åå†…éƒ¨widgetæŒ‰éœ€åŠ è½½ç›¸åº”çš„ theme.body1 or theme.body2</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2020-01-07 17:43:03</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/16/3b/44/dd534c9b.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>èœå¤´</span>
  </div>
  <div class="_2_QraFYR_0">Theme.of(context) æ–¹æ³•å°†å‘ä¸ŠæŸ¥æ‰¾ Widget æ ‘ï¼Œå¹¶è¿”å› Widget æ ‘ä¸­æœ€è¿‘çš„ä¸»é¢˜ Themeã€‚å¦‚æœ Widget<br>çš„çˆ¶ Widget ä»¬æœ‰ä¸€ä¸ªå•ç‹¬çš„ä¸»é¢˜å®šä¹‰ï¼Œåˆ™ä½¿ç”¨è¯¥ Theme<br>å¦‚æœä¸æ˜¯ï¼Œå°±ä½¿ç”¨ App å…¨å±€ Themeã€‚<br><br>è¿™ä¸ªè¡¨ç¤ºæ²¡å¤ªæ‡‚ã€‚<br>æœ€è¿‘ï¼Ÿæ˜¯è¡¨ç¤ºå…¶ç¬¬ä¸€ä¸ª superWidget å—ï¼Ÿ<br>çˆ¶ Widget ä»¬ï¼Ÿä¸€ä¸ª widget æœ‰å¤šä¸ªçˆ¶ widget?<br><br><br></div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: çˆ¶Widgetä»¬=ç¥–å…ˆ</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-11-15 21:18:38</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/e4/2f/fb01f76d.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>zzz</span>
  </div>
  <div class="_2_QraFYR_0">è¯·é—®ä¸‹ï¼Œç›®å‰ä¸»æµçš„Appå†…UIçš„æ ·å¼åº”è¯¥ä¸ä¼šå±€é™äºThemeDataä¸­çš„å®šä¹‰çš„æƒ…å†µã€‚æ¯”å¦‚æœ‰ä¸€ä¸ªè‡ªå®šä¹‰çš„Buttonï¼Œæ˜¯åœ¨ä»£ç ä¸­è®¾ç½®çš„ç‰¹æ®ŠColorï¼Œä¸æ˜¯Themedataé‡Œçš„ï¼Œè¿™ç§æƒ…å†µä¸‹çš„buttonï¼ˆæˆ–ç±»ä¼¼å®ç°çš„å…¨éƒ¨widgetï¼‰ï¼Œå¯¹äºæ—¥å¤œé—´åˆ‡æ¢è¿™ç§åŠ¨æ€å¤„ç†çš„æ—¶å€™ï¼Œæœ‰ç»Ÿä¸€çš„æ¢é¢œè‰²çš„æ–¹æ³•ä¹ˆï¼Ÿè¿˜æ˜¯éœ€è¦åœ¨æ¯ä¸ªwidgetä¸­éƒ½è¦å®ç°å¯¹åº”çš„é¢œè‰²å¤„ç†ï¼ŸåŒæ ·çš„å¯¹äºTextThemeï¼ŒThemeDataåªæä¾›äº†textTheme,primaryTextTheme,accentTextThemeä¸‰ç§ï¼Œå¦‚æœAppå†…æœ‰æ›´å¤šçš„é€šç”¨TextThemeï¼Œå¦‚ä½•åŠ¨æ€çš„ç»Ÿä¸€åˆ‡æ¢å‘¢ï¼Ÿ</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: ä½ å¯ä»¥è‡ªå·±æŠ½è±¡å‡ºä¸€å¥—å±æ€§é…ç½®ï¼Œæ§åˆ¶çš„ç²’åº¦æ›´ç»†ä¸€äº›ï¼Œé€šè¿‡å¼€å…³ç»Ÿä¸€åˆ‡æ¢ï¼Œæœ¬è´¨ä¸Šå’Œç³»ç»Ÿä¸»é¢˜ç±»ä¼¼</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-10-23 14:39:38</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/16/1e/e0/238fda97.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>ğŸŒ</span>
  </div>
  <div class="_2_QraFYR_0">å¦‚æœå…¨å±€æ›´æ”¹ä¸»é¢˜çš„è¯ï¼Œé‚£å²‚ä¸æ˜¯è¦æŠŠMaterialAppè¿™ä¸ªWidgetè®¾ç½®æˆæœ‰çŠ¶æ€çš„widget?è¿™æ ·å­æ˜¯ä¸æ˜¯æ›´è€—æ€§èƒ½</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: æ˜¯å•Šï¼Œæ¢ä¸»é¢˜æœ¬èº«å°±ç›¸å½“äºé‡å»ºæ•´ä¸ªAppçš„UIäº†ï¼Œè‡ªç„¶éœ€è¦é‡èµ°ä¸€éæ ¹è§†å›¾çš„ç”Ÿå‘½å‘¨æœŸ</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-09-20 14:22:32</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/12/04/37/aa04f997.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>å’Œå°èƒ–</span>
  </div>
  <div class="_2_QraFYR_0">è€å¸ˆï¼Œè¿™ä¸ªå…¨å±€ä¸»é¢˜çš„è®¾ç½®åªæ˜¯é’ˆå¯¹äºå¸ƒå±€ä¸­çš„å¯¹åº” widget æ²¡æœ‰è®¾ç½®æ ·å¼æ‰ä¼šç”Ÿæ•ˆå§ï¼Ÿä¾‹å¦‚æˆ‘åœ¨ ThemeData é‡Œé¢è®¾ç½®äº†æ–‡å­—é¢œè‰²ä¸ºé»‘è‰²ï¼Ÿä½†æ˜¯æˆ‘åœ¨å­ widget é‡Œé¢è®¾ç½®äº†ä¸€ä¸ªæ–‡å­—ä¼šçº¢è‰²ï¼Œé‚£ä¹ˆæ­¤æ—¶é»‘è‰²æ˜¯ä¸ç”Ÿæ•ˆçš„å§ï¼Ÿ</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å¯¹ï¼Œä¼šè¦†ç›–</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-09-04 16:33:16</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/13/01/1c/d638d46e.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>å®‹ä¸–é€š</span>
  </div>
  <div class="_2_QraFYR_0">è€å¸ˆï¼Œåœ¨flutter1.8.2ï¼Œ1.8.3ç‰ˆæœ¬ä¸­å¢åŠ äº†ThemeModeï¼Œæ˜¯ä¸æ˜¯ç”¨è¿™ä¸ªæ¥æ§åˆ¶ä¸»é¢˜æ˜æš—ä¼šæ›´å¥½ä¸€ç‚¹?</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å¯ä»¥çš„ã€‚ThemeModeæ˜¯åœ¨ä¸»é¢˜ä¹‹ä¸Šï¼Œæ˜¯ç”¨æ¥è®¾ç½®æ˜¯å¦è·Ÿéšç³»ç»Ÿè®¾ç½®çš„å±æ€§ï¼Œä½ å¯ä»¥é€šè¿‡å®ƒæ¥å¼ºåˆ¶è®¾ç½®Appä¸»é¢˜ä¸ºæ˜æˆ–æš—ï¼Œä¹Ÿå¯ä»¥è·Ÿéšç³»ç»Ÿï¼Œè¿™æ ·å°±éœ€è¦æŠŠä¸¤å¥—ä¸»é¢˜éƒ½å®ç°äº†</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-08-06 15:13:04</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/4d/fd/0aa0e39f.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>è®¸ç«¥ç«¥</span>
  </div>
  <div class="_2_QraFYR_0">è€å¸ˆä½ å¥½ï¼Œè¿™ä¸ªThemeåº”è¯¥æ˜¯è¦å®šä¹‰ä¸ºçŠ¶æ€ï¼Œåœ¨setStateé‡Œé¢ä¿®æ”¹è¿™ä¸ªå˜é‡ï¼Œä½†æ˜¯ä»£ç ä¸çŸ¥é“æ€ä¹ˆå†™ï¼Œè€å¸ˆèƒ½å¦ç»™ä¸€ä¸‹ä»£ç ã€‚</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å¯ä»¥å‚è€ƒå°ç±³åŒå­¦çš„å®ç°</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-08-03 11:53:45</div>
  </div>
</div>
</div>
</li>
</ul>