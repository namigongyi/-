<audio title="31_å¦‚ä½•å®ç°åŸç”Ÿæ¨é€èƒ½åŠ›ï¼Ÿ" src="https://static001.geekbang.org/resource/audio/db/82/dbcc23a0abe7f62e1425513c3c267382.mp3" controls="controls"></audio> 
<p>ä½ å¥½ï¼Œæˆ‘æ˜¯é™ˆèˆªã€‚</p><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¸ä½ åˆ†äº«äº†å¦‚ä½•ä½¿ç”¨Providerå»ç»´æŠ¤Flutterç»„ä»¶å…±ç”¨çš„æ•°æ®çŠ¶æ€ã€‚åœ¨Flutterä¸­çŠ¶æ€å³æ•°æ®ï¼Œé€šè¿‡æ•°æ®èµ„æºå°è£…ã€æ³¨å…¥å’Œè¯»å†™è¿™ä¸‰æ­¥ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥å®ç°è·¨ç»„ä»¶ä¹‹é—´çš„æ•°æ®å…±äº«ï¼Œè¿˜èƒ½ç²¾ç¡®æ§åˆ¶UIåˆ·æ–°ç²’åº¦ï¼Œé¿å…æ— å…³ç»„ä»¶çš„åˆ·æ–°ã€‚</p><p>å…¶å®ï¼Œæ•°æ®å…±äº«ä¸ä»…å­˜åœ¨äºå®¢æˆ·ç«¯å†…éƒ¨ï¼ŒåŒæ ·ä¹Ÿå­˜åœ¨äºæœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ä¹‹é—´ã€‚æ¯”å¦‚ï¼Œæœ‰æ–°çš„å¾®åšè¯„è®ºï¼Œæˆ–è€…æ˜¯å‘ç”Ÿäº†é‡å¤§æ–°é—»ï¼Œæˆ‘ä»¬éƒ½éœ€è¦åœ¨æœåŠ¡ç«¯æŠŠè¿™äº›çŠ¶æ€å˜æ›´çš„æ¶ˆæ¯å®æ—¶æ¨é€åˆ°å®¢æˆ·ç«¯ï¼Œæé†’ç”¨æˆ·æœ‰æ–°çš„å†…å®¹ã€‚æœ‰æ—¶ï¼Œæˆ‘ä»¬è¿˜ä¼šé’ˆå¯¹ç‰¹å®šçš„ç”¨æˆ·ç”»åƒï¼Œé€šè¿‡æ¨é€å®ç°ç²¾å‡†çš„è¥é”€ä¿¡æ¯è§¦è¾¾ã€‚</p><p>å¯ä»¥è¯´ï¼Œæ¶ˆæ¯æ¨é€æ˜¯å¢å¼ºç”¨æˆ·é»æ€§ï¼Œä¿ƒè¿›ç”¨æˆ·é‡å¢é•¿çš„é‡è¦æ‰‹æ®µã€‚é‚£ä¹ˆï¼Œæ¶ˆæ¯æ¨é€çš„æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</p><h2>æ¶ˆæ¯æ¨é€æµç¨‹</h2><p>æ‰‹æœºæ¨é€æ¯å¤©é‚£ä¹ˆå¤šï¼Œå¯¼è‡´åœ¨æˆ‘ä»¬çœ‹æ¥è¿™å¾ˆç®€å•å•Šã€‚ä½†å…¶å®ï¼Œæ¶ˆæ¯æ¨é€æ˜¯ä¸€ä¸ªæ¨ªè·¨ä¸šåŠ¡æœåŠ¡å™¨ã€ç¬¬ä¸‰æ–¹æ¨é€æœåŠ¡æ‰˜ç®¡å‚å•†ã€æ“ä½œç³»ç»Ÿé•¿è¿æ¥æ¨é€æœåŠ¡ã€ç”¨æˆ·ç»ˆç«¯ã€æ‰‹æœºåº”ç”¨äº”æ–¹çš„å¤æ‚ä¸šåŠ¡åº”ç”¨åœºæ™¯ã€‚</p><p>åœ¨iOSä¸Šï¼Œè‹¹æœæ¨é€æœåŠ¡ï¼ˆAPNsï¼‰æ¥ç®¡äº†ç³»ç»Ÿæ‰€æœ‰åº”ç”¨çš„æ¶ˆæ¯é€šçŸ¥éœ€æ±‚ï¼›è€ŒAndroidåŸç”Ÿï¼Œåˆ™æä¾›äº†ç±»ä¼¼Firebaseçš„äº‘æ¶ˆæ¯ä¼ é€’æœºåˆ¶ï¼ˆFCMï¼‰ï¼Œå¯ä»¥å®ç°ç»Ÿä¸€çš„æ¨é€æ‰˜ç®¡æœåŠ¡ã€‚</p><p>å½“æŸåº”ç”¨éœ€è¦å‘é€æ¶ˆæ¯é€šçŸ¥æ—¶ï¼Œè¿™åˆ™æ¶ˆæ¯ä¼šç”±åº”ç”¨çš„æœåŠ¡å™¨å…ˆå‘ç»™è‹¹æœæˆ–Googleï¼Œç»ç”±APNsæˆ–FCMè¢«å‘é€åˆ°è®¾å¤‡ï¼Œè®¾å¤‡æ“ä½œç³»ç»Ÿåœ¨å®Œæˆè§£æåï¼Œæœ€ç»ˆæŠŠæ¶ˆæ¯è½¬ç»™æ‰€å±åº”ç”¨ã€‚è¿™ä¸ªæµç¨‹çš„ç¤ºæ„å›¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><!-- [[[read_end]]] --><p><img src="https://static001.geekbang.org/resource/image/91/ea/916f0ae684a20fbc87a15314cb8f2aea.png?wh=904*462" alt=""></p><center><span class="reference">å›¾1 åŸç”Ÿæ¶ˆæ¯æ¨é€æµç¨‹</span></center><p>ä¸è¿‡ï¼ŒGoogleæœåŠ¡åœ¨å¤§é™†åœ°åŒºä½¿ç”¨å¹¶ä¸ç¨³å®šï¼Œå› æ­¤å›½è¡ŒAndroidæ‰‹æœºé€šå¸¸ä¼šæŠŠGoogleæœåŠ¡æ¢æˆè‡ªå·±çš„æœåŠ¡ï¼Œå®šåˆ¶ä¸€å¥—æ¨é€æ ‡å‡†ã€‚è€Œè¿™å¯¹å¼€å‘è€…æ¥è¯´ï¼Œæ— ç–‘æ˜¯å¢å¤§äº†é€‚é…è´Ÿæ‹…ã€‚æ‰€ä»¥é’ˆå¯¹Androidç«¯ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨é€æœåŠ¡ï¼Œæ¯”å¦‚æå…‰æ¨é€ã€å‹ç›Ÿæ¨é€ç­‰ã€‚</p><p>è™½ç„¶è¿™äº›ç¬¬ä¸‰æ–¹æ¨é€æœåŠ¡ä½¿ç”¨è‡ªå»ºçš„é•¿è¿æ¥ï¼Œæ— æ³•äº«å—æ“ä½œç³»ç»Ÿåº•å±‚çš„ä¼˜åŒ–ï¼Œä½†å®ƒä»¬ä¼šå¯¹æ‰€æœ‰ä½¿ç”¨æ¨é€æœåŠ¡çš„Appå…±äº«æ¨é€é€šé“ï¼Œåªè¦æœ‰ä¸€ä¸ªä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨é€æœåŠ¡çš„åº”ç”¨æ²¡è¢«ç³»ç»Ÿæ€æ­»ï¼Œå°±å¯ä»¥è®©æ¶ˆæ¯åŠæ—¶é€è¾¾ã€‚</p><p>è€Œå¦ä¸€æ–¹é¢ï¼Œè¿™äº›ç¬¬ä¸‰æ–¹æœåŠ¡ç®€åŒ–äº†ä¸šåŠ¡æœåŠ¡å™¨ä¸æ‰‹æœºæ¨é€æœåŠ¡å»ºç«‹è¿æ¥çš„æ“ä½œï¼Œä½¿å¾—æˆ‘ä»¬çš„ä¸šåŠ¡æœåŠ¡å™¨é€šè¿‡ç®€å•çš„APIè°ƒç”¨å°±å¯ä»¥å®Œæˆæ¶ˆæ¯æ¨é€ã€‚</p><p>è€Œä¸ºäº†ä¿æŒAndroid/iOSæ–¹æ¡ˆçš„ç»Ÿä¸€ï¼Œåœ¨iOSä¸Šæˆ‘ä»¬ä¹Ÿä¼šä½¿ç”¨å°è£…äº†APNsé€šä¿¡çš„ç¬¬ä¸‰æ–¹æ¨é€æœåŠ¡ã€‚</p><p>ç¬¬ä¸‰æ–¹æ¨é€çš„æœåŠ¡æµç¨‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://static001.geekbang.org/resource/image/10/23/10f46ae2b6ccb3753241dbf56f961223.png?wh=1130*462" alt=""></p><center><span class="reference">å›¾2 ç¬¬ä¸‰æ–¹æ¨é€æœåŠ¡æµç¨‹</span></center><p>è¿™äº›ç¬¬ä¸‰æ–¹æ¨é€æœåŠ¡å‚å•†æä¾›çš„èƒ½åŠ›å’Œæ¥å…¥æµç¨‹å¤§éƒ½ä¸€è‡´ï¼Œè€ƒè™‘åˆ°æå…‰çš„ç¤¾åŒºå’Œç”Ÿæ€ç›¸å¯¹æ´»è·ƒï¼Œæ‰€ä»¥ä»Šå¤©æˆ‘ä»¬å°±ä»¥æå…‰ä¸ºä¾‹ï¼Œæ¥çœ‹çœ‹åœ¨Flutteråº”ç”¨ä¸­å¦‚ä½•æ‰èƒ½å¼•ç”¨åŸç”Ÿçš„æ¨é€èƒ½åŠ›ã€‚</p><h2>åŸç”Ÿæ¨é€æ¥å…¥æµç¨‹</h2><p>è¦æƒ³åœ¨Flutterä¸­æ¥æ”¶æ¨é€æ¶ˆæ¯ï¼Œæˆ‘ä»¬éœ€è¦æŠŠåŸç”Ÿçš„æ¨é€èƒ½åŠ›æš´éœ²ç»™Flutteråº”ç”¨ï¼Œå³åœ¨åŸç”Ÿä»£ç å®¿ä¸»å®ç°æ¨é€èƒ½åŠ›ï¼ˆæå…‰SDKï¼‰çš„æ¥å…¥ï¼Œå¹¶é€šè¿‡æ–¹æ³•é€šé“æä¾›ç»™Dartå±‚æ„ŸçŸ¥æ¨é€æ¶ˆæ¯çš„æœºåˆ¶ã€‚</p><h3>æ’ä»¶å·¥ç¨‹</h3><p>åœ¨<a href="https://time.geekbang.org/column/article/127601">ç¬¬26ç¯‡</a>æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•åœ¨åŸç”Ÿå·¥ç¨‹ä¸­çš„Flutteråº”ç”¨å…¥å£æ³¨å†ŒåŸç”Ÿä»£ç å®¿ä¸»å›è°ƒï¼Œä»è€Œå®ç°Dartå±‚è°ƒç”¨åŸç”Ÿæ¥å£çš„æ–¹æ¡ˆã€‚è¿™ç§æ–¹æ¡ˆç®€å•ç›´æ¥ï¼Œé€‚ç”¨äºDartå±‚ä¸åŸç”Ÿæ¥å£ä¹‹é—´äº¤äº’ä»£ç é‡å°‘ã€æ•°æ®æµåŠ¨æ¸…æ™°çš„åœºæ™¯ã€‚</p><p>ä½†å¯¹äºæ¨é€è¿™ç§æ¶‰åŠDartä¸åŸç”Ÿå¤šæ–¹æ•°æ®æµè½¬ã€ä»£ç é‡å¤§çš„æ¨¡å—ï¼Œè¿™ç§ä¸å·¥ç¨‹è€¦åˆçš„æ–¹æ¡ˆå°±ä¸åˆ©äºç‹¬ç«‹å¼€å‘ç»´æŠ¤äº†ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨Flutteræä¾›çš„æ’ä»¶å·¥ç¨‹å¯¹å…¶è¿›è¡Œå•ç‹¬å°è£…ã€‚</p><p>Flutterçš„æ’ä»¶å·¥ç¨‹ä¸æ™®é€šçš„åº”ç”¨å·¥ç¨‹ç±»ä¼¼ï¼Œéƒ½æœ‰androidå’Œiosç›®å½•ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬å®Œæˆå¹³å°ç›¸å…³é€»è¾‘ä»£ç çš„åœ°æ–¹ï¼Œè€ŒFlutterå·¥ç¨‹æ’ä»¶çš„æ³¨å†Œï¼Œåˆ™ä»ä¼šåœ¨åº”ç”¨çš„å…¥å£å®Œæˆã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ’ä»¶å·¥ç¨‹è¿˜å†…åµŒäº†ä¸€ä¸ªexampleå·¥ç¨‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼•ç”¨äº†æ’ä»¶ä»£ç çš„æ™®é€šFlutteråº”ç”¨å·¥ç¨‹ã€‚æˆ‘ä»¬é€šè¿‡exampleå·¥ç¨‹ï¼Œå¯ä»¥ç›´æ¥è°ƒè¯•æ’ä»¶åŠŸèƒ½ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/d6/38/d608c42b507e27a7456f37255d8a5b38.png?wh=946*1244" alt=""></p><center><span class="reference">å›¾3 æ’ä»¶å·¥ç¨‹ç›®å½•ç»“æ„</span></center><p>åœ¨äº†è§£äº†æ•´ä½“å·¥ç¨‹çš„ç›®å½•ç»“æ„ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å»Dartæ’ä»¶ä»£ç æ‰€åœ¨çš„flutter_push_plugin.dartæ–‡ä»¶ï¼Œå®ç°Dartå±‚çš„æ¨é€æ¥å£å°è£…ã€‚</p><h3>Dartæ¥å£å®ç°</h3><p>ä¸ºäº†å®ç°æ¶ˆæ¯çš„å‡†ç¡®è§¦è¾¾ï¼Œæˆ‘ä»¬éœ€è¦æä¾›ä¸€ä¸ªå¯ä»¥æ ‡è¯†æ‰‹æœºä¸ŠAppçš„åœ°å€ï¼Œå³tokenæˆ–idã€‚ä¸€æ—¦å®Œæˆåœ°å€çš„ä¸ŠæŠ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç­‰å¾…ä¸šåŠ¡æœåŠ¡å™¨ç»™æˆ‘ä»¬å‘æ¶ˆæ¯äº†ã€‚</p><p>å› ä¸ºæˆ‘ä»¬éœ€è¦ä½¿ç”¨æå…‰è¿™æ ·çš„ç¬¬ä¸‰æ–¹æ¨é€æœåŠ¡ï¼Œæ‰€ä»¥è¿˜å¾—è¿›è¡Œä¸€äº›å‰ç½®çš„åº”ç”¨ä¿¡æ¯å…³è”ç»‘å®šï¼Œä»¥åŠSDKçš„åˆå§‹åŒ–å·¥ä½œã€‚å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºä¸€ä¸ªåº”ç”¨è€Œè¨€ï¼Œæ¥å…¥æ¨é€çš„è¿‡ç¨‹å¯ä»¥æ‹†è§£ä¸ºä»¥ä¸‹ä¸‰æ­¥ï¼š</p><ol>
<li>åˆå§‹åŒ–æå…‰SDKï¼›</li>
<li>è·å–åœ°å€idï¼›</li>
<li>æ³¨å†Œæ¶ˆæ¯é€šçŸ¥ã€‚</li>
</ol><p>è¿™ä¸‰æ­¥å¯¹åº”ç€åœ¨Dartå±‚éœ€è¦å°è£…çš„3ä¸ªåŸç”Ÿæ¥å£è°ƒç”¨ï¼šsetupã€registrationIDå’ŒsetOpenNotificationHandlerã€‚</p><p>å‰ä¸¤ä¸ªæ¥å£æ˜¯åœ¨æ–¹æ³•é€šé“ä¸Šè°ƒç”¨åŸç”Ÿä»£ç å®¿ä¸»æä¾›çš„æ–¹æ³•ï¼Œè€Œæ³¨å†Œæ¶ˆæ¯é€šçŸ¥çš„å›è°ƒå‡½æ•°setOpenNotificationHandleråˆ™ç›¸åï¼Œæ˜¯åŸç”Ÿä»£ç å®¿ä¸»åœ¨æ–¹æ³•é€šé“ä¸Šè°ƒç”¨Dartå±‚æ‰€æä¾›çš„äº‹ä»¶å›è°ƒï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨æ–¹æ³•é€šé“ä¸Šä¸ºåŸç”Ÿä»£ç å®¿ä¸»æ³¨å†Œåå‘å›è°ƒæ–¹æ³•ï¼Œè®©åŸç”Ÿä»£ç å®¿ä¸»æ”¶åˆ°æ¶ˆæ¯åå¯ä»¥ç›´æ¥é€šçŸ¥å®ƒã€‚</p><p>å¦å¤–ï¼Œè€ƒè™‘åˆ°æ¨é€æ˜¯æ•´ä¸ªåº”ç”¨å…±äº«çš„èƒ½åŠ›ï¼Œå› æ­¤æˆ‘ä»¬å°†FlutterPushPluginè¿™ä¸ªç±»å°è£…æˆäº†å•ä¾‹ï¼š</p><pre><code>//Flutter Pushæ’ä»¶
class FlutterPushPlugin  {
  //å•ä¾‹
  static final FlutterPushPlugin _instance = new FlutterPushPlugin.private(const MethodChannel('flutter_push_plugin'));
  //æ–¹æ³•é€šé“
  final MethodChannel _channel;
  //æ¶ˆæ¯å›è°ƒ
  EventHandler _onOpenNotification;
  //æ„é€ æ–¹æ³•
  FlutterPushPlugin.private(MethodChannel channel) : _channel = channel {
    //æ³¨å†ŒåŸç”Ÿåå‘å›è°ƒæ–¹æ³•ï¼Œè®©åŸç”Ÿä»£ç å®¿ä¸»å¯ä»¥æ‰§è¡ŒonOpenNotificationæ–¹æ³•
    _channel.setMethodCallHandler(_handleMethod);
  }
  //åˆå§‹åŒ–æå…‰SDK
  setupWithAppID(String appID) {
    _channel.invokeMethod(&quot;setup&quot;, appID);
  }
  //æ³¨å†Œæ¶ˆæ¯é€šçŸ¥
  setOpenNotificationHandler(EventHandler onOpenNotification) {
    _onOpenNotification = onOpenNotification;
  }

  //æ³¨å†ŒåŸç”Ÿåå‘å›è°ƒæ–¹æ³•ï¼Œè®©åŸç”Ÿä»£ç å®¿ä¸»å¯ä»¥æ‰§è¡ŒonOpenNotificationæ–¹æ³•
  Future&lt;Null&gt; _handleMethod(MethodCall call) {
    switch (call.method) {
      case &quot;onOpenNotification&quot;:
        return _onOpenNotification(call.arguments);
      default:
        throw new UnsupportedError(&quot;Unrecognized Event&quot;);
    }
  }
  //è·å–åœ°å€id
  Future&lt;String&gt; get registrationID async {
    final String regID = await _channel.invokeMethod('getRegistrationID');
    return regID;
  }
}
</code></pre><p>Dartå±‚æ˜¯åŸç”Ÿä»£ç å®¿ä¸»çš„ä»£ç†ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸€å±‚çš„æ¥å£è®¾è®¡ç®—æ˜¯ç®€å•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†åˆ«å»æ¥ç®¡æ¨é€çš„Androidå’ŒiOSå¹³å°ä¸Šå®Œæˆç›¸åº”çš„å®ç°ã€‚</p><h3>Androidæ¥å£å®ç°</h3><p>è€ƒè™‘åˆ°Androidå¹³å°çš„æ¨é€é…ç½®å·¥ä½œç›¸å¯¹è¾ƒå°‘ï¼Œå› æ­¤æˆ‘ä»¬å…ˆç”¨Android Studioæ‰“å¼€exampleä¸‹çš„androidå·¥ç¨‹è¿›è¡Œæ’ä»¶å¼€å‘å·¥ä½œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºandroidå­å·¥ç¨‹çš„è¿è¡Œä¾èµ–äºFlutterå·¥ç¨‹ç¼–è¯‘æ„å»ºäº§ç‰©ï¼Œæ‰€ä»¥åœ¨æ‰“å¼€androidå·¥ç¨‹è¿›è¡Œå¼€å‘å‰ï¼Œä½ éœ€è¦ç¡®ä¿æ•´ä¸ªå·¥ç¨‹ä»£ç è‡³å°‘buildè¿‡ä¸€æ¬¡ï¼Œå¦åˆ™IDEä¼šæŠ¥é”™ã€‚</p><blockquote>
<p>å¤‡æ³¨ï¼šä»¥ä¸‹æ“ä½œæ­¥éª¤å‚è€ƒ<a href="https://docs.jiguang.cn//jpush/client/Android/android_guide/">æå…‰Android SDKé›†æˆæŒ‡å—</a>ã€‚</p>
</blockquote><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ’ä»¶å·¥ç¨‹ä¸‹çš„build.gradleå¼•å…¥æå…‰SDKï¼Œå³jpushä¸jcoreï¼š</p><pre><code>dependencies {
    implementation 'cn.jiguang.sdk:jpush:3.3.4'
    implementation 'cn.jiguang.sdk:jcore:2.1.2'
}
</code></pre><p>ç„¶åï¼Œåœ¨åŸç”Ÿæ¥å£FlutterPushPluginç±»ä¸­ï¼Œä¾æ¬¡æŠŠDartå±‚å°è£…çš„3ä¸ªæ¥å£è°ƒç”¨ï¼Œå³setupã€getRegistrationIDä¸onOpenNotificationï¼Œæä¾›æå…‰Android SDKçš„å®ç°ç‰ˆæœ¬ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºæå…‰Android SDKçš„ä¿¡æ¯ç»‘å®šæ˜¯åœ¨åº”ç”¨çš„æ‰“åŒ…é…ç½®é‡Œè®¾ç½®ï¼Œå¹¶ä¸éœ€è¦é€šè¿‡ä»£ç å®Œæˆï¼ˆiOSæ‰éœ€è¦ï¼‰ï¼Œå› æ­¤setupæ–¹æ³•çš„Androidç‰ˆæœ¬æ˜¯ä¸€ä¸ªç©ºå®ç°ï¼š</p><pre><code>public class FlutterPushPlugin implements MethodCallHandler {
  //æ³¨å†Œå™¨ï¼Œé€šå¸¸ä¸ºMainActivity
  public final Registrar registrar;
  //æ–¹æ³•é€šé“
  private final MethodChannel channel;
  //æ’ä»¶å®ä¾‹
  public static FlutterPushPlugin instance;
  //æ³¨å†Œæ’ä»¶
  public static void registerWith(Registrar registrar) {
    //æ³¨å†Œæ–¹æ³•é€šé“
    final MethodChannel channel = new MethodChannel(registrar.messenger(), &quot;flutter_push_plugin&quot;);
    instance = new FlutterPushPlugin(registrar, channel);
    channel.setMethodCallHandler(instance);
    //æŠŠåˆå§‹åŒ–æå…‰SDKæå‰è‡³æ’ä»¶æ³¨å†Œæ—¶
    JPushInterface.setDebugMode(true);
    JPushInterface.init(registrar.activity().getApplicationContext());
  }
  //ç§æœ‰æ„é€ æ–¹æ³•
  private FlutterPushPlugin(Registrar registrar, MethodChannel channel) {
    this.registrar = registrar;
    this.channel = channel;
  }
  //æ–¹æ³•å›è°ƒ
  @Override
  public void onMethodCall(MethodCall call, Result result) {
    if (call.method.equals(&quot;setup&quot;)) {
      //æå…‰Android SDKçš„åˆå§‹åŒ–å·¥ä½œéœ€è¦åœ¨Appå·¥ç¨‹ä¸­é…ç½®ï¼Œå› æ­¤ä¸éœ€è¦ä»£ç å®ç°
      result.success(0);
    }
    else if (call.method.equals(&quot;getRegistrationID&quot;)) {
      //è·å–æå…‰æ¨é€åœ°å€æ ‡è¯†ç¬¦
        result.success(JPushInterface.getRegistrationID(registrar.context()));
    } else {
      result.notImplemented();
    }
  }

  public void callbackNotificationOpened(NotificationMessage message) {
    //å°†æ¨é€æ¶ˆæ¯å›è°ƒç»™Dartå±‚
      channel.invokeMethod(&quot;onOpenNotification&quot;,message.notificationContent);
  }
}
</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„FlutterPushPluginç±»ä¸­ï¼Œä»…æä¾›äº†callbackNotificationOpenedè¿™ä¸ªå·¥å…·æ–¹æ³•ï¼Œç”¨äºæ¨é€æ¶ˆæ¯å‚æ•°å›è°ƒç»™Dartï¼Œä½†è¿™ä¸ªç±»æœ¬èº«å¹¶æ²¡æœ‰å»ç›‘å¬æå…‰SDKçš„æ¨é€æ¶ˆæ¯ã€‚</p><p>ä¸ºäº†è·å–æ¨é€æ¶ˆæ¯ï¼Œæˆ‘ä»¬åˆ†åˆ«éœ€è¦ç»§æ‰¿æå…‰SDKæä¾›çš„ä¸¤ä¸ªç±»ï¼šJCommonServiceå’ŒJPushMessageReceiverã€‚</p><ul>
<li>JCommonServiceæ˜¯ä¸€ä¸ªåå°Serviceï¼Œå®é™…ä¸Šæ˜¯æå…‰å…±äº«é•¿è¿é€šé“çš„æ ¸å¿ƒï¼Œå¯ä»¥åœ¨å¤šæ‰‹æœºå¹³å°ä¸Šä½¿å¾—æ¨é€é€šé“æ›´ç¨³å®šã€‚</li>
<li>JPushMessageReceiveråˆ™æ˜¯ä¸€ä¸ªBroadcastReceiverï¼Œæ¨é€æ¶ˆæ¯çš„è·å–éƒ½æ˜¯é€šè¿‡å®ƒå®ç°çš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¦†ç›–å…¶onNotifyMessageOpenedæ–¹æ³•ï¼Œä»è€Œåœ¨ç”¨æˆ·ç‚¹å‡»ç³»ç»Ÿæ¨é€æ¶ˆæ¯æ—¶è·å–åˆ°é€šçŸ¥ã€‚</li>
</ul><p>ä½œä¸ºBroadcastReceiverçš„JPushMessageReceiverï¼Œå¯ä»¥é•¿æœŸåœ¨åå°å­˜æ´»ï¼Œç›‘å¬è¿œç«¯æ¨é€æ¶ˆæ¯ï¼Œä½†Flutterå¯å°±ä¸è¡Œäº†ï¼Œæ“ä½œç³»ç»Ÿä¼šéšæ—¶é‡Šæ”¾æ‰åå°åº”ç”¨æ‰€å ç”¨çš„èµ„æºã€‚å› æ­¤ï¼Œ<strong>åœ¨ç”¨æˆ·ç‚¹å‡»æ¨é€æ—¶ï¼Œæˆ‘ä»¬åœ¨æ”¶åˆ°ç›¸åº”çš„æ¶ˆæ¯å›è°ƒåï¼Œéœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æƒ…ä¸æ˜¯ç«‹åˆ»é€šçŸ¥Flutterï¼Œè€Œæ˜¯åº”è¯¥å¯åŠ¨åº”ç”¨çš„MainActivityã€‚</strong>åœ¨ç¡®ä¿Flutterå·²ç»å®Œå…¨åˆå§‹åŒ–åï¼Œæ‰èƒ½é€šçŸ¥Flutteræœ‰æ–°çš„æ¨é€æ¶ˆæ¯ã€‚</p><p>å› æ­¤åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨æ‰“å¼€MainActivityåï¼Œç­‰å¾…äº†1ç§’ï¼Œæ‰æ‰§è¡Œç›¸åº”çš„Flutterå›è°ƒé€šçŸ¥ï¼š</p><pre><code>//JPushXCustomService.java
//é•¿è¿é€šé“æ ¸å¿ƒï¼Œå¯ä»¥ä½¿æ¨é€é€šé“æ›´ç¨³å®š
public class JPushXCustomService extends JCommonService {
}

//JPushXMessageReceiver.java
//è·å–æ¨é€æ¶ˆæ¯çš„Receiver
public class JPushXMessageReceiver extends JPushMessageReceiver {
    //ç”¨æˆ·ç‚¹å‡»æ¨é€æ¶ˆæ¯å›è°ƒ
    @Override
    public void onNotifyMessageOpened(Context context, final NotificationMessage message) {
        try {
            //æ‰¾åˆ°MainActivity
            String mainClassName = context.getApplicationContext().getPackageName() + &quot;.MainActivity&quot;;
            Intent i = new Intent(context, Class.forName(mainClassName));
            i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_SINGLE_TOP);
            //å¯åŠ¨ä¸»Activity
            context.startActivity(i);
        } catch (Exception e) {
            Log.e(&quot;tag&quot;,&quot;æ‰¾ä¸åˆ°MainActivity&quot;);
        }
        new Timer().schedule(new TimerTask() {
            @Override
            public void run() {
                FlutterPushPlugin.instance.callbackNotificationOpened(message);
            }
        },1000); // å»¶è¿Ÿ1ç§’é€šçŸ¥Dart
    }
}
</code></pre><p>æœ€åï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨æ’ä»¶å·¥ç¨‹çš„AndroidManifest.xmlä¸­ï¼Œåˆ†åˆ«å£°æ˜receiver JPushXMessageReceiverå’Œservice JPushXCustomServiceï¼Œå®Œæˆå¯¹ç³»ç»Ÿçš„æ³¨å†Œï¼š</p><pre><code>...
&lt;application&gt;
    &lt;!--æ³¨å†Œæ¨é€æ¶ˆæ¯æ¥æ”¶ç±» --&gt;
    &lt;receiver android:name=&quot;.JPushXMessageReceiver&quot;&gt;
        &lt;intent-filter&gt;
            &lt;action android:name=&quot;cn.jpush.android.intent.RECEIVE_MESSAGE&quot; /&gt;
            &lt;category android:name=&quot;${applicationId}&quot; /&gt;
        &lt;/intent-filter&gt;
    &lt;/receiver&gt;
    &lt;!--æ³¨å†Œé•¿è¿é€šé“Service --&gt;
    &lt;service android:name=&quot;.JPushXCustomService&quot;
        android:enabled=&quot;true&quot;
        android:exported=&quot;false&quot;
        android:process=&quot;:pushcore&quot;&gt;
        &lt;intent-filter&gt;
            &lt;action android:name=&quot;cn.jiguang.user.service.action&quot; /&gt;
        &lt;/intent-filter&gt;
    &lt;/service&gt;
&lt;/application&gt;
...
</code></pre><p>æ¥æ”¶æ¶ˆæ¯å’Œå›è°ƒæ¶ˆæ¯çš„åŠŸèƒ½å®Œæˆåï¼ŒFlutterPushPluginæ’ä»¶çš„Androidéƒ¨åˆ†å°±æå®šäº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å»å¼€å‘æ’ä»¶çš„iOSéƒ¨åˆ†ã€‚</p><h3>iOSæ¥å£å®ç°</h3><p>ä¸Androidç±»ä¼¼ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨Xcodeæ‰“å¼€exampleä¸‹çš„ioså·¥ç¨‹è¿›è¡Œæ’ä»¶å¼€å‘å·¥ä½œã€‚åŒæ ·ï¼Œåœ¨æ‰“å¼€ioså·¥ç¨‹å‰ï¼Œä½ éœ€è¦ç¡®ä¿æ•´ä¸ªå·¥ç¨‹ä»£ç è‡³å°‘buildè¿‡ä¸€æ¬¡ï¼Œå¦åˆ™IDEä¼šæŠ¥é”™ã€‚</p><blockquote>
<p>å¤‡æ³¨ï¼šä»¥ä¸‹æ“ä½œæ­¥éª¤å‚è€ƒ<a href="https://docs.jiguang.cn//jpush/client/iOS/ios_guide_new/">æå…‰iOS SDKé›†æˆæŒ‡å—</a></p>
</blockquote><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ’ä»¶å·¥ç¨‹ä¸‹çš„flutter_push_plugin.podspecæ–‡ä»¶ä¸­å¼•å…¥æå…‰SDKï¼Œå³jpushã€‚è¿™é‡Œï¼Œæˆ‘ä»¬é€‰ç”¨äº†ä¸ä½¿ç”¨å¹¿å‘Šidçš„ç‰ˆæœ¬ï¼š</p><pre><code>Pod::Spec.new do |s|
  ...
  s.dependency 'JPush', '3.2.2-noidfa'
end
</code></pre><p>ç„¶åï¼Œåœ¨åŸç”Ÿæ¥å£FlutterPushPluginç±»ä¸­ï¼ŒåŒæ ·ä¾æ¬¡ä¸ºsetupã€getRegistrationIDä¸onOpenNotificationï¼Œæä¾›æå…‰ iOS SDKçš„å®ç°ç‰ˆæœ¬ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒAPNsçš„æ¨é€æ¶ˆæ¯æ˜¯åœ¨ApplicationDelegateä¸­å›è°ƒçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨æ³¨å†Œæ’ä»¶æ—¶ï¼Œä¸ºæ’ä»¶æä¾›åŒåçš„å›è°ƒå‡½æ•°ï¼Œè®©æå…‰SDKæŠŠæ¨é€æ¶ˆæ¯è½¬å‘åˆ°æ’ä»¶çš„å›è°ƒå‡½æ•°ä¸­ã€‚</p><p>ä¸Androidç±»ä¼¼ï¼Œåœ¨æå…‰SDKæ”¶åˆ°æ¨é€æ¶ˆæ¯æ—¶ï¼Œæˆ‘ä»¬çš„åº”ç”¨å¯èƒ½å¤„äºåå°ï¼Œå› æ­¤åœ¨ç”¨æˆ·ç‚¹å‡»äº†æ¨é€æ¶ˆæ¯ï¼ŒæŠŠFlutteråº”ç”¨å”¤é†’æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨ç¡®ä¿Flutterå·²ç»å®Œå…¨åˆå§‹åŒ–åï¼Œæ‰èƒ½é€šçŸ¥Flutteræœ‰æ–°çš„æ¨é€æ¶ˆæ¯ã€‚</p><p>å› æ­¤åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨ç”¨æˆ·ç‚¹å‡»äº†æ¨é€æ¶ˆæ¯åä¹Ÿç­‰å¾…äº†1ç§’ï¼Œæ‰æ‰§è¡Œç›¸åº”çš„Flutterå›è°ƒé€šçŸ¥ï¼š</p><pre><code>@implementation FlutterPushPlugin
//æ³¨å†Œæ’ä»¶
+ (void)registerWithRegistrar:(NSObject&lt;FlutterPluginRegistrar&gt;*)registrar {
    //æ³¨å†Œæ–¹æ³•é€šé“
    FlutterMethodChannel* channel = [FlutterMethodChannel methodChannelWithName:@&quot;flutter_push_plugin&quot; binaryMessenger:[registrar messenger]];
    //åˆå§‹åŒ–æ’ä»¶å®ä¾‹ï¼Œç»‘å®šæ–¹æ³•é€šé“ 
    FlutterPushPlugin* instance = [[FlutterPushPlugin alloc] init];
    instance.channel = channel;
    //ä¸ºæ’ä»¶æä¾›ApplicationDelegateå›è°ƒæ–¹æ³• 
    [registrar addApplicationDelegate:instance];
    //æ³¨å†Œæ–¹æ³•é€šé“å›è°ƒå‡½æ•°
    [registrar addMethodCallDelegate:instance channel:channel];
}
//å¤„ç†æ–¹æ³•è°ƒç”¨
- (void)handleMethodCall:(FlutterMethodCall*)call result:(FlutterResult)result {
    if([@&quot;setup&quot; isEqualToString:call.method]) {
        //æå…‰SDKåˆå§‹åŒ–æ–¹æ³•
        [JPUSHService setupWithOption:self.launchOptions appKey:call.arguments channel:@&quot;App Store&quot; apsForProduction:YES advertisingIdentifier:nil];
    } else if ([@&quot;getRegistrationID&quot; isEqualToString:call.method]) {
        //è·å–æå…‰æ¨é€åœ°å€æ ‡è¯†ç¬¦
        [JPUSHService registrationIDCompletionHandler:^(int resCode, NSString *registrationID) {
            result(registrationID);
        }];
    } else {
        //æ–¹æ³•æœªå®ç°
        result(FlutterMethodNotImplemented);
  }
}
//åº”ç”¨ç¨‹åºå¯åŠ¨å›è°ƒ
-(BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    //åˆå§‹åŒ–æå…‰æ¨é€æœåŠ¡
    JPUSHRegisterEntity * entity = [[JPUSHRegisterEntity alloc] init];
    //è®¾ç½®æ¨é€æƒé™
    entity.types = JPAuthorizationOptionAlert|JPAuthorizationOptionBadge|JPAuthorizationOptionSound;
    //è¯·æ±‚æ¨é€æœåŠ¡
    [JPUSHService registerForRemoteNotificationConfig:entity delegate:self];
    //å­˜å‚¨Appå¯åŠ¨çŠ¶æ€ï¼Œç”¨äºåç»­åˆå§‹åŒ–è°ƒç”¨
    self.launchOptions = launchOptions;
    return YES;
}
//æ¨é€tokenå›è°ƒ
- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken {
    ///æ³¨å†ŒDeviceTokenï¼Œæ¢å–æå…‰æ¨é€åœ°å€æ ‡è¯†ç¬¦
    [JPUSHService registerDeviceToken:deviceToken];
}
//æ¨é€è¢«ç‚¹å‡»å›è°ƒ
- (void)jpushNotificationCenter:(UNUserNotificationCenter *)center didReceiveNotificationResponse:(UNNotificationResponse *)response withCompletionHandler:(void(^)(void))completionHandler {
    //è·å–æ¨é€æ¶ˆæ¯
    NSDictionary * userInfo = response.notification.request.content.userInfo;
    NSString *content = userInfo[@&quot;aps&quot;][@&quot;alert&quot;];
    if ([content isKindOfClass:[NSDictionary class]]) {
        content = userInfo[@&quot;aps&quot;][@&quot;alert&quot;][@&quot;body&quot;];
    }
    //å»¶è¿Ÿ1ç§’é€šçŸ¥Flutterï¼Œç¡®ä¿Flutteråº”ç”¨å·²å®Œæˆåˆå§‹åŒ–
    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
        [self.channel invokeMethod:@&quot;onOpenNotification&quot; arguments:content];
    });
    //æ¸…é™¤åº”ç”¨çš„å°çº¢ç‚¹
    UIApplication.sharedApplication.applicationIconBadgeNumber = 0;
    //é€šçŸ¥ç³»ç»Ÿï¼Œæ¨é€å›è°ƒå¤„ç†å®Œæ¯•
    completionHandler(); 
}
//å‰å°åº”ç”¨æ”¶åˆ°äº†æ¨é€æ¶ˆæ¯
- (void)jpushNotificationCenter:(UNUserNotificationCenter *)center willPresentNotification:(UNNotification *)notification withCompletionHandler:(void (^)(NSInteger options))completionHandler {
    //é€šçŸ¥ç³»ç»Ÿå±•ç¤ºæ¨é€æ¶ˆæ¯æç¤º
    completionHandler(UNNotificationPresentationOptionAlert); 
}
@end
</code></pre><p>è‡³æ­¤ï¼Œåœ¨å®Œæˆäº†æå…‰iOS SDKçš„æ¥å£å°è£…ä¹‹åï¼ŒFlutterPushPluginæ’ä»¶çš„iOSéƒ¨åˆ†ä¹Ÿæå®šäº†ã€‚</p><p>FlutterPushPluginæ’ä»¶ä¸ºFlutteråº”ç”¨æä¾›äº†åŸç”Ÿæ¨é€çš„å°è£…ï¼Œä¸è¿‡è¦æƒ³exampleå·¥ç¨‹èƒ½å¤ŸçœŸæ­£åœ°æ¥æ”¶åˆ°æ¨é€æ¶ˆæ¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹exmapleå·¥ç¨‹è¿›è¡Œæœ€åçš„é…ç½®ï¼Œå³ï¼šä¸ºå®ƒæä¾›åº”ç”¨æ¨é€è¯ä¹¦ï¼Œå¹¶å…³è”æå…‰åº”ç”¨é…ç½®ã€‚</p><h3>åº”ç”¨å·¥ç¨‹é…ç½®</h3><p>åœ¨å•ç‹¬ä¸ºAndroid/iOSåº”ç”¨è¿›è¡Œæ¨é€é…ç½®ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å»<a href="https://www.jiguang.cn/dev2/#/overview/appCardList">æå…‰çš„å®˜æ–¹ç½‘ç«™</a>ï¼Œä¸ºexampleåº”ç”¨æ³¨å†Œä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆå³AppKeyï¼‰ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/14/6a/1474a599fc1c2bd34d2e12cd6dbfb46a.png?wh=708*544" alt=""></p><center><span class="reference">å›¾4 æå…‰åº”ç”¨æ³¨å†Œ</span></center><p>åœ¨å¾—åˆ°äº†AppKeyä¹‹åï¼Œæˆ‘ä»¬éœ€è¦<strong>ä¾æ¬¡è¿›è¡ŒAndroidä¸iOSçš„é…ç½®å·¥ä½œ</strong>ã€‚</p><p>Androidçš„é…ç½®å·¥ä½œç›¸å¯¹ç®€å•ï¼Œæ•´ä¸ªé…ç½®è¿‡ç¨‹å®Œå…¨æ˜¯åº”ç”¨ä¸æå…‰SDKçš„å…³è”å·¥ä½œã€‚</p><p>é¦–å…ˆï¼Œæ ¹æ®exampleçš„Androidå·¥ç¨‹åŒ…åï¼Œå®ŒæˆAndroidå·¥ç¨‹çš„æ¨é€æ³¨å†Œï¼š</p><p><img src="https://static001.geekbang.org/resource/image/3d/b9/3de9b139d409f669fa23a94cb2cdcdb9.png?wh=1392*648" alt=""></p><center><span class="reference">å›¾5 example Androidæ¨é€æ³¨å†Œ</span></center><p>ç„¶åï¼Œé€šè¿‡AppKeyï¼Œåœ¨appçš„build.gradleæ–‡ä»¶ä¸­å®ç°æå…‰ä¿¡æ¯çš„ç»‘å®šï¼š</p><pre><code>defaultConfig {
   ...
   //ndkæ”¯æŒæ¶æ„ 
    ndk {
        abiFilters 'armeabi', 'armeabi-v7a', 'arm64-v8a'
    }
    
    manifestPlaceholders = [
            JPUSH_PKGNAME : applicationId, //åŒ…å
            JPUSH_APPKEY : &quot;f861910af12a509b34e266c2&quot;, //JPush ä¸Šæ³¨å†Œçš„åŒ…åå¯¹åº”çš„Appkey
            JPUSH_CHANNEL : &quot;developer-default&quot;, //å¡«å†™é»˜è®¤å€¼å³å¯
    ]
}
</code></pre><p>è‡³æ­¤ï¼ŒAndroidéƒ¨åˆ†çš„æ‰€æœ‰é…ç½®å·¥ä½œå’Œæ¥å£å®ç°éƒ½å·²ç»æå®šäº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹iOSçš„é…ç½®å®ç°ã€‚</p><p><strong>iOSçš„åº”ç”¨é…ç½®ç›¸å¯¹Androidä¼šç¹çä¸€äº›</strong>ï¼Œå› ä¸ºæ•´ä¸ªé…ç½®è¿‡ç¨‹æ¶‰åŠåº”ç”¨ã€è‹¹æœAPNsæœåŠ¡ã€æå…‰ä¸‰æ–¹ä¹‹é—´çš„ä¿¡æ¯å…³è”ã€‚</p><p>é™¤äº†éœ€è¦åœ¨åº”ç”¨å†…ç»‘å®šæå…‰ä¿¡æ¯ä¹‹å¤–ï¼ˆå³handleMethodCallä¸­çš„setupæ–¹æ³•ï¼‰ï¼Œè¿˜éœ€è¦åœ¨<a href="https://developer.apple.com/">è‹¹æœçš„å¼€å‘è€…å®˜ç½‘</a>æå‰ç”³è¯·è‹¹æœçš„æ¨é€è¯ä¹¦ã€‚å…³äºç”³è¯·è¯ä¹¦ï¼Œè‹¹æœæä¾›äº†.p12è¯ä¹¦å’ŒAPNs Auth Keyä¸¤ç§é‰´æƒæ–¹å¼ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘æ¨èä½¿ç”¨æ›´ä¸ºç®€å•çš„Auth Keyæ–¹å¼ã€‚ç”³è¯·æ¨é€è¯ä¹¦çš„è¿‡ç¨‹ï¼Œæå…‰å®˜ç½‘æä¾›äº†è¯¦ç»†çš„<a href="https://docs.jiguang.cn//jpush/client/iOS/ios_cer_guide/">æ³¨å†Œæ­¥éª¤</a>ï¼Œè¿™é‡Œæˆ‘å°±ä¸å†èµ˜è¿°äº†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”³è¯·iOSçš„æ¨é€è¯ä¹¦æ—¶ï¼Œä½ åªèƒ½ä½¿ç”¨ä»˜è´¹çš„è‹¹æœå¼€å‘è€…è´¦å·ã€‚</p><p>åœ¨æ‹¿åˆ°äº†APNs Auth Keyä¹‹åï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦å»æå…‰å®˜ç½‘ï¼Œæ ¹æ®Bundle IDè¿›è¡Œæ¨é€è®¾ç½®ï¼Œå¹¶æŠŠAuth Keyä¸Šä¼ è‡³æå…‰è¿›è¡Œæ‰˜ç®¡ï¼Œç”±å®ƒå®Œæˆä¸è‹¹æœçš„é‰´æƒå·¥ä½œï¼š</p><p><img src="https://static001.geekbang.org/resource/image/31/57/31fd3119256c8d54f216b8922bf7da57.png?wh=1550*736" alt=""></p><center><span class="reference">å›¾6 example iOSæ¨é€æ³¨å†Œ</span></center><p>é€šè¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†å°†æ¨é€è¯ä¹¦ä¸æå…‰ä¿¡æ¯ç»‘å®šçš„æ“ä½œï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬<strong>å›åˆ°Xcodeæ‰“å¼€çš„exampleå·¥ç¨‹ï¼Œè¿›è¡Œæœ€åçš„é…ç½®å·¥ä½œ</strong>ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸ºexampleå·¥ç¨‹å¼€å¯Application Targetçš„Capabilities-&gt;Push Notificationsé€‰é¡¹ï¼Œå¯åŠ¨åº”ç”¨çš„æ¨é€èƒ½åŠ›æ”¯æŒï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://static001.geekbang.org/resource/image/c8/f9/c866e1a8662b8220ad20f12560dc70f9.png?wh=1370*522" alt=""></p><center><span class="reference">å›¾7 example iOSæ¨é€é…ç½®</span></center><p>ç„¶åï¼Œæˆ‘ä»¬éœ€è¦åˆ‡æ¢åˆ°Application Targetçš„Infoé¢æ¿ï¼Œæ‰‹åŠ¨é…ç½®NSAppTransportSecurityé”®å€¼å¯¹ï¼Œä»¥æ”¯æŒæå…‰SDKéhttpsåŸŸåæœåŠ¡ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/64/a2/64d21293e30b316b1e88d79c954df4a2.png?wh=1526*254" alt=""></p><center><span class="reference">å›¾8 example iOSæ”¯æŒHttpé…ç½®</span></center><p>æœ€åï¼Œåœ¨Info tabä¸‹çš„Bundle identifieré¡¹ï¼ŒæŠŠæˆ‘ä»¬åˆšåˆšåœ¨æå…‰å®˜ç½‘æ³¨å†Œçš„Bundle IDæ˜¾å¼åœ°æ›´æ–°è¿›å»ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/a3/06/a30ae94430ce022c1aec423c6c9ea606.png?wh=1730*332" alt=""></p><center><span class="reference">å›¾9 Bundle IDé…ç½®</span></center><p>è‡³æ­¤ï¼Œexampleå·¥ç¨‹è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰åŸç”Ÿé…ç½®å·¥ä½œå’Œæ¥å£å®ç°éƒ½å·²ç»æå®šäº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨exampleå·¥ç¨‹ä¸­çš„main.dartæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨FlutterPushPluginæ’ä»¶æ¥å®ç°åŸç”Ÿæ¨é€èƒ½åŠ›äº†ã€‚</p><p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨mainå‡½æ•°çš„å…¥å£ï¼Œä½¿ç”¨æ’ä»¶å•ä¾‹æ³¨å†Œäº†æå…‰æ¨é€æœåŠ¡ï¼Œéšååœ¨åº”ç”¨Stateåˆå§‹åŒ–æ—¶ï¼Œè·å–äº†æå…‰æ¨é€åœ°å€ï¼Œå¹¶è®¾ç½®äº†æ¶ˆæ¯æ¨é€å›è°ƒï¼š</p><pre><code>//è·å–æ¨é€æ’ä»¶å•ä¾‹
FlutterPushPlugin fpush = FlutterPushPlugin();
void main() {
  //ä½¿ç”¨AppIDæ³¨å†Œæå…‰æ¨é€æœåŠ¡(ä»…é’ˆå¯¹iOSå¹³å°)
  fpush.setupWithAppID(&quot;f861910af12a509b34e266c2&quot;);
  runApp(MyApp());
}

class MyApp extends StatefulWidget {
  @override
  _MyAppState createState() =&gt; _MyAppState();
}

class _MyAppState extends State&lt;MyApp&gt; {
  //æå…‰æ¨é€åœ°å€regID
  String _regID = 'Unknown';
  //æ¥æ”¶åˆ°çš„æ¨é€æ¶ˆæ¯
  String _notification = &quot;&quot;;

  @override
  initState() {
    super.initState();
    //æ³¨å†Œæ¨é€æ¶ˆæ¯å›è°ƒ
    fpush.setOpenNotificationHandler((String message) async {
      //åˆ·æ–°ç•Œé¢çŠ¶æ€ï¼Œå±•ç¤ºæ¨é€æ¶ˆæ¯
      setState(() {
        _notification = message;
      });
    });
    //è·å–æ¨é€åœ°å€regID
    initPlatformState();
  }
  
  initPlatformState() async {
    //è°ƒç”¨æ’ä»¶å°è£…çš„regID
    String regID = await fpush.registrationID;
    //åˆ·æ–°ç•Œé¢çŠ¶æ€ï¼Œå±•ç¤ºregID
    setState(() {
      _regID = regID;
    });
  }

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        body: Center(
          child: Column(
            children: &lt;Widget&gt;[
              //å±•ç¤ºregIDï¼Œä»¥åŠæ”¶åˆ°çš„æ¶ˆæ¯
              Text('Running on: $_regID\n'),
              Text('Notification Received: $_notification')
            ],
          ),
        ),
      ),
    );
  }
}
</code></pre><p>ç‚¹å‡»è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„åº”ç”¨å·²ç»å¯ä»¥è·å–åˆ°æå…‰æ¨é€åœ°å€äº†ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/40/bf/40bacc76342c21ef43681a625709a4bf.png?wh=1125*2436" alt=""></p><center><span class="reference">å›¾10 iOSè¿è¡Œç¤ºä¾‹</span></center><p><img src="https://static001.geekbang.org/resource/image/54/53/542d1eda3e40c50b3c4a3495bb682a53.jpeg?wh=1080*2244" alt=""></p><center><span class="reference">å›¾11 Androidè¿è¡Œç¤ºä¾‹</span></center><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†å»<a href="https://www.jiguang.cn/dev2/#/overview/appCardList">æå…‰å¼€å‘è€…æœåŠ¡åå°</a>å‘ä¸€æ¡çœŸå®çš„æ¨é€æ¶ˆæ¯ã€‚åœ¨æœåŠ¡åå°é€‰æ‹©æˆ‘ä»¬çš„Appï¼Œéšåè¿›å…¥æå…‰æ¨é€æ§åˆ¶å°ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œæ¶ˆæ¯æ¨é€æµ‹è¯•äº†ã€‚</p><p>åœ¨å‘é€é€šçŸ¥ä¸€æ ï¼Œæˆ‘ä»¬æŠŠé€šçŸ¥æ ‡é¢˜æ”¹ä¸ºâ€œæµ‹è¯•â€ï¼Œé€šçŸ¥å†…å®¹è®¾ç½®ä¸ºâ€œæå…‰æ¨é€æµ‹è¯•â€ï¼›åœ¨ç›®æ ‡äººç¾¤ä¸€æ ï¼Œç”±äºæ˜¯æµ‹è¯•è´¦å·ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€‰æ‹©â€œå¹¿æ’­æ‰€æœ‰äººâ€ï¼Œå¦‚æœä½ å¸Œæœ›ç²¾ç¡®å®šä½åˆ°æ¥æ”¶æ–¹ï¼Œä¹Ÿå¯ä»¥æä¾›åœ¨åº”ç”¨ä¸­è·å–åˆ°çš„æå…‰æ¨é€åœ°å€ï¼ˆå³Registration IDï¼‰ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/a5/b6/a5c3aaf126d59561ee078dc5987ca8b6.png?wh=2692*1852" alt=""></p><center><span class="reference">å›¾12 æå…‰æ¨é€åå°</span></center><p>ç‚¹å‡»å‘é€é¢„è§ˆå¹¶ç¡®è®¤ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„åº”ç”¨ä¸ä»…å¯ä»¥è¢«æ¥è‡ªæå…‰çš„æ¨é€æ¶ˆæ¯å”¤é†’ï¼Œè¿˜å¯ä»¥åœ¨Flutteråº”ç”¨å†…æ”¶åˆ°æ¥è‡ªåŸç”Ÿå®¿ä¸»è½¬å‘çš„æ¶ˆæ¯å†…å®¹ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/6a/4e/6a90537391778ea75a28ad4b01641b4e.gif?wh=886*1920" alt=""></p><center>å›¾<span class="reference">13 iOSæ¨é€æ¶ˆæ¯</span></center><p><img src="https://static001.geekbang.org/resource/image/b5/d8/b59ff183027f50df9fed14c4abfe9fd8.gif?wh=464*960" alt=""></p><center><span class="reference">å›¾ 14 Androidæ¨é€æ¶ˆæ¯</span></center><h2>æ€»ç»“</h2><p>å¥½äº†ï¼Œä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œã€‚æˆ‘ä»¬ä¸€èµ·æ¥å°ç»“ä¸€ä¸‹å§ã€‚</p><p>æˆ‘ä»¬ä»¥Flutteræ’ä»¶å·¥ç¨‹çš„æ–¹å¼ï¼Œä¸ºæå…‰SDKæä¾›äº†ä¸€ä¸ªDartå±‚çš„å°è£…ã€‚æ’ä»¶å·¥ç¨‹åŒæ—¶æä¾›äº†iOSå’ŒAndroidç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸¤ä¸ªç›®å½•ä¸‹å®ŒæˆåŸç”Ÿä»£ç å®¿ä¸»å°è£…ï¼Œä¸ä»…å¯ä»¥ä¸ºDartå±‚æä¾›æ¥å£æ­£å‘å›è°ƒï¼ˆæ¯”å¦‚ï¼Œåˆå§‹åŒ–ã€è·å–æå…‰æ¨é€åœ°å€ï¼‰ï¼Œè¿˜å¯ä»¥é€šè¿‡æ–¹æ³•é€šé“ä»¥åå‘å›è°ƒçš„æ–¹å¼å°†æ¨é€æ¶ˆæ¯è½¬å‘ç»™Dartã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘å’Œä½ åˆ†äº«äº†å¾ˆå¤šåŸç”Ÿä»£ç å®¿ä¸»çš„é…ç½®ã€ç»‘å®šã€æ³¨å†Œçš„é€»è¾‘ã€‚ä¸éš¾å‘ç°ï¼Œæ¨é€è¿‡ç¨‹é“¾è·¯é•¿ã€æ¶‰ä¼—å¤šã€é…ç½®å¤æ‚ï¼Œè¦æƒ³åœ¨Flutterå®Œå…¨å®ç°åŸç”Ÿæ¨é€èƒ½åŠ›ï¼Œå·¥ä½œé‡ä¸»è¦é›†ä¸­åœ¨åŸç”Ÿä»£ç å®¿ä¸»ï¼ŒDartå±‚èƒ½åšçš„äº‹æƒ…å¹¶ä¸å¤šã€‚</p><p>æˆ‘æŠŠä»Šå¤©åˆ†äº«æ‰€æ”¹é€ çš„<a href="https://github.com/cyndibaby905/31_flutter_push_plugin">Flutter_Push_Plugin</a>æ”¾åˆ°äº†GitHubä¸­ï¼Œä½ å¯ä»¥æŠŠæ’ä»¶å·¥ç¨‹ä¸‹è½½ä¸‹æ¥ï¼Œå¤šè¿è¡Œå‡ æ¬¡ï¼Œä½“ä¼šæ’ä»¶å·¥ç¨‹ä¸æ™®é€šFlutterå·¥ç¨‹çš„å¼‚åŒï¼Œå¹¶åŠ æ·±å¯¹æ¶ˆæ¯æ¨é€å…¨æµç¨‹çš„è®¤è¯†ã€‚å…¶ä¸­ï¼ŒFlutter_Push_Pluginæä¾›äº†å®ç°åŸç”Ÿæ¨é€åŠŸèƒ½çš„æœ€å°é›†åˆï¼Œä½ å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚å®Œå–„è¿™ä¸ªæ’ä»¶ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ä»Šå¤©çš„å®é™…å·¥ç¨‹æ¼”ç¤ºæ˜¯é€šè¿‡å†…åµŒçš„exampleå·¥ç¨‹ç¤ºä¾‹æ‰€å®Œæˆçš„ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªç‹¬ç«‹çš„Flutterå·¥ç¨‹ï¼ˆæ¯”å¦‚<a href="https://github.com/cyndibaby905/31_flutter_push_demo">Flutter_Push_Demo</a>ï¼‰éœ€è¦æ¥å…¥Flutter_Push_Pluginï¼Œå…¶é…ç½®æ–¹å¼ä¸exampleå·¥ç¨‹å¹¶æ— ä¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œéœ€è¦åœ¨pubspec.yamlæ–‡ä»¶ä¸­å°†å¯¹æ’ä»¶çš„ä¾èµ–æ˜¾ç¤ºåœ°å£°æ˜å‡ºæ¥è€Œå·²ï¼š</p><pre><code>dependencies:
  flutter_push_plugin:
    git:
      url: https://github.com/cyndibaby905/31_flutter_push_plugin.git
</code></pre><h2>æ€è€ƒé¢˜</h2><p>åœ¨Flutter_Push_Pluginçš„åŸç”Ÿå®ç°ä¸­ï¼Œç”¨æˆ·ç‚¹å‡»äº†æ¨é€æ¶ˆæ¯æŠŠFlutteråº”ç”¨å”¤é†’æ—¶ï¼Œä¸ºäº†ç¡®ä¿Flutterå®Œæˆåˆå§‹åŒ–ï¼Œæˆ‘ä»¬ç­‰å¾…äº†1ç§’æ‰æ‰§è¡Œç›¸åº”çš„Flutterå›è°ƒé€šçŸ¥ã€‚è¿™æ®µé€»è¾‘æœ‰éœ€è¦ä¼˜åŒ–çš„åœ°æ–¹å—ï¼Ÿä¸ºäº†è®©Flutterä»£ç èƒ½å¤Ÿæ›´å¿«åœ°æ”¶åˆ°æ¨é€æ¶ˆæ¯ï¼Œä½ ä¼šå¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ</p><p>æ¬¢è¿ä½ åœ¨è¯„è®ºåŒºç»™æˆ‘ç•™è¨€åˆ†äº«ä½ çš„è§‚ç‚¹ï¼Œæˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ç­‰å¾…ä½ ï¼æ„Ÿè°¢ä½ çš„æ”¶å¬ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ä¸€èµ·é˜…è¯»ã€‚</p><p></p>
<style>
    ul {
      list-style: none;
      display: block;
      list-style-type: disc;
      margin-block-start: 1em;
      margin-block-end: 1em;
      margin-inline-start: 0px;
      margin-inline-end: 0px;
      padding-inline-start: 40px;
    }
    li {
      display: list-item;
      text-align: -webkit-match-parent;
    }
    ._2sjJGcOH_0 {
      list-style-position: inside;
      width: 100%;
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      margin-top: 26px;
      border-bottom: 1px solid rgba(233,233,233,0.6);
    }
    ._2sjJGcOH_0 ._3FLYR4bF_0 {
      width: 34px;
      height: 34px;
      -ms-flex-negative: 0;
      flex-shrink: 0;
      border-radius: 50%;
    }
    ._2sjJGcOH_0 ._36ChpWj4_0 {
      margin-left: 0.5rem;
      -webkit-box-flex: 1;
      -ms-flex-positive: 1;
      flex-grow: 1;
      padding-bottom: 20px;
    }
    ._2sjJGcOH_0 ._36ChpWj4_0 ._2zFoi7sd_0 {
      font-size: 16px;
      color: #3d464d;
      font-weight: 500;
      -webkit-font-smoothing: antialiased;
      line-height: 34px;
    }
    ._2sjJGcOH_0 ._36ChpWj4_0 ._2_QraFYR_0 {
      margin-top: 12px;
      color: #505050;
      -webkit-font-smoothing: antialiased;
      font-size: 14px;
      font-weight: 400;
      white-space: normal;
      word-break: break-all;
      line-height: 24px;
    }
    ._2sjJGcOH_0 ._10o3OAxT_0 {
      margin-top: 18px;
      border-radius: 4px;
      background-color: #f6f7fb;
    }
    ._2sjJGcOH_0 ._3klNVc4Z_0 {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      -webkit-box-pack: justify;
      -ms-flex-pack: justify;
      justify-content: space-between;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      margin-top: 15px;
    }
    ._2sjJGcOH_0 ._10o3OAxT_0 ._3KxQPN3V_0 {
      color: #505050;
      -webkit-font-smoothing: antialiased;
      font-size: 14px;
      font-weight: 400;
      white-space: normal;
      word-break: break-word;
      padding: 20px 20px 20px 24px;
    }
    ._2sjJGcOH_0 ._3klNVc4Z_0 {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -ms-flex-direction: row;
      flex-direction: row;
      -webkit-box-pack: justify;
      -ms-flex-pack: justify;
      justify-content: space-between;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      margin-top: 15px;
    }
    ._2sjJGcOH_0 ._3Hkula0k_0 {
      color: #b2b2b2;
      font-size: 14px;
    }
</style><ul><li>
<div class="_2sjJGcOH_0"><img src=""
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>Geek_0ea3e4</span>
  </div>
  <div class="_2_QraFYR_0">å¸¦Exampleçš„Flutterå·¥ç¨‹æ€ä¹ˆç”¨å‘½ä»¤åˆ›å»ºå•Š</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: flutter create â€”org com.example â€”template=plugin hello</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-11-06 21:36:11</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/b2/b4/46a55e3b.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>ç°å¤ªç‹¼</span>
  </div>
  <div class="_2_QraFYR_0">è¿™ç¯‡æ–‡ç« å¾ˆæ£’ï¼Œå°±åƒæ¥¼ä¸Šè¯´çš„å·²æœ‰æå…‰çš„flutteræ’ä»¶ï¼Œä½†æ˜¯é€šè¿‡æ­¤æ–‡è®©æ›´å¤šè¯»è€…äº†è§£äº†å¦‚ä½•æ¥å…¥å·²æœ‰çš„åŸç”Ÿsdkï¼Œå¯¹æ¨å¹¿flutteræ˜¯å¾ˆæœ‰å¥½å¤„çš„ã€‚</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-09-19 16:11:04</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/11/2e/7b/93adc84c.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>zzz why</span>
  </div>
  <div class="_2_QraFYR_0">å¯ä»¥åœ¨mainActivityä¸­æ³¨å†Œfullterçš„åˆå§‹åŒ–ç›‘å¬ï¼Œè¿™æ ·å¯ä»¥åœ¨åå°å¯åŠ¨çš„æ—¶å€™åŠæ—¶çš„æ”¶åˆ°æ¨é€æ¶ˆæ¯ã€‚<br>å¯¹äºåœ¨å‰å°çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é¦–å…ˆåˆ¤æ–­æ˜¯ä¸æ˜¯å·²ç»åœ¨å‰å°ï¼Œå¹¶ä¸”å®Œæˆåˆå§‹åŒ–ï¼Œå¦‚æœå·²ç»å®Œæˆåˆå§‹åŒ–çš„è¯å°±ç›´æ¥è°ƒç”¨callbackNotificationOpenedè¿™æ ·fullterå°±å¯ä»¥å¿«é€Ÿæ”¶åˆ°æ¶ˆæ¯äº†</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å‰å®³ğŸ‘</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-09-25 16:37:21</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="http://thirdwx.qlogo.cn/mmopen/vi_32/ajNVdqHZLLBsNaictOELd8V5cwPd0IKXiaJe7nzgmq9Ighibkku58rdwT5V1qUSuaULh8SAUou3aXEE3o8MNpeEhQ/132"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>åŠªåŠ›ä¸ºæ˜å¤©</span>
  </div>
  <div class="_2_QraFYR_0">æå…‰å¥½åƒæœ‰ä¸€ä¸ªflutterçš„SDKæ’ä»¶ï¼Œæ¯”æˆ‘ä»¬è‡ªå·±å°è£…ä½¿ç”¨è¦ç®€å•ä¸€äº›ï¼Œå¤šç§æ€è·¯å§</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å¯ä»¥ä½œä¸ºå‚è€ƒ</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-09-07 23:32:46</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/11/55/28/7dd45ca0.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>å¥‡å¾—éš†å†¬å¼º</span>
  </div>
  <div class="_2_QraFYR_0">flutter è€ç‰ˆæœ¬éœ€è¦æ‰‹åŠ¨åœ¨å¯åŠ¨ activity æ³¨å†Œï¼Œæ–°ç‰ˆæœ¬æ— éœ€åœ¨æ‰‹åŠ¨æ³¨å†Œ<br><br>é€šè¿‡åå°„çš„å½¢å¼æ‰¾åˆ°è‡ªåŠ¨ç”Ÿæˆçš„ GeneratedPluginRegistrant ç±»ï¼Œè°ƒç”¨å…¶é™æ€æ–¹æ³• registerWith</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2023-04-09 01:45:17</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/11/55/28/7dd45ca0.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>å¥‡å¾—éš†å†¬å¼º</span>
  </div>
  <div class="_2_QraFYR_0">æˆ‘çš„ç†è§£æ˜¯ï¼š<br>pubspec é‡Œé¢çš„ dependencies æ˜¯ç”¨æ¥ä¾èµ– flutter dart è¿™éƒ¨åˆ†çš„ï¼Œnative çš„ä»–ä¸ä¼šä¸»åŠ¨ä¾èµ–<br>native plugin çš„è¯æ˜¯è¦é€šè¿‡ gradle çš„ä¾èµ–çš„ï¼›</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2023-04-07 00:12:59</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/11/55/28/7dd45ca0.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>å¥‡å¾—éš†å†¬å¼º</span>
  </div>
  <div class="_2_QraFYR_0">FlutterPushPlugin. registerWith åœ¨å“ªé‡Œè°ƒç”¨çš„ï¼Ÿ<br><br>è‡ªå·±çš„ plugin è¦æ‰‹åŠ¨è°ƒç”¨ flutterEngine.getPlugins ().add æ·»åŠ ï¼Œåœ¨ pubspec é‡Œå£°æ˜çš„ plugin ä¼šè‡ªåŠ¨è°ƒç”¨<br><br><br></div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2023-04-06 23:43:56</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/16/32/63/fa24f92e.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>ä¹ä¸‰</span>
  </div>
  <div class="_2_QraFYR_0">demoç°åœ¨è·‘èµ·æ¥åˆé”™è¯¯ï¼Œ <br>  fpush.setupWithAppID(&quot;f861910af12a509b34e266c2&quot;);<br>è¿™ä¸ªæ”¾åœ¨runAppä¹‹å</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2021-11-16 17:42:42</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/0f/5a/75/4e0d7419.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>é£“é£</span>
  </div>
  <div class="_2_QraFYR_0">FlutterPushPlugin. registerWith åœ¨å“ªé‡Œè°ƒç”¨çš„ï¼Ÿ</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2020-07-29 16:13:26</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/15/eb/a0/9d294a9a.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>KEEPUP</span>
  </div>
  <div class="_2_QraFYR_0">Androidä¸‹å¦‚æœæ€è¿›ç¨‹çš„è¯ï¼Œè¿˜èƒ½æ”¶åˆ°æ¨é€çš„æ¶ˆæ¯å—ï¼Ÿç±»ä¼¼å¾®ä¿¡qqé‚£ç§æ€è¿›ç¨‹ä¾ç„¶èƒ½æ”¶åˆ°æ¶ˆæ¯æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ</div>
  <div class="_10o3OAxT_0">
    
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2020-04-14 10:05:48</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/18/6a/71/d28392a9.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>Bula</span>
  </div>
  <div class="_2_QraFYR_0">è¿™æ˜¯å¯¹çº¯flutterå·¥ç¨‹æ¥æå…‰å§ï¼ŒåŸç”Ÿå·¥ç¨‹æ··åˆflutterçš„åº”è¯¥ä¸ç”¨å…³å¿ƒæå…‰æ¨é€çš„åˆå§‹åŒ–</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: æ˜¯çš„</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-09-20 08:30:03</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/18/7d/5a/0709cc86.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>å°å¸ˆå¼Ÿ</span>
  </div>
  <div class="_2_QraFYR_0">å¯ä»¥åœ¨mainactivityé‡Œæ³¨å†Œflutteråˆå§‹åŒ–å®Œæˆçš„ç›‘å¬ï¼Œå›è°ƒæ—¶æŠŠæ¶ˆæ¯é€šçŸ¥ä¼ é€’ç»™flutter</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å¯ä»¥ï¼Œä¸è¿‡å¯¹äºflutteré¡µé¢å·²ç»åœ¨å‰å°çš„æƒ…å†µä¸‹ã€è¿™ç§å°±æ”¶ä¸åˆ°pushäº†</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-09-08 22:17:53</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/10/0f/e3/c49aa508.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>é²¸é±¼</span>
  </div>
  <div class="_2_QraFYR_0">ä¸ºäº†è®© Flutter ä»£ç èƒ½å¤Ÿæ›´å¿«åœ°æ”¶åˆ°æ¨é€æ¶ˆæ¯ï¼Œä½ ä¼šå¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ<br>è¿™é‡Œæ˜¯ä¸æ˜¯å¯ä»¥åŸç”Ÿä¾§æŠŠæ¨é€æ¶ˆæ¯ä¿å­˜èµ·æ¥ï¼Œå¾…flutterå¯åŠ¨åç›´æ¥è¯»å–æ¶ˆæ¯</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: å¯ä»¥ï¼Œä½†å¯¹äºflutteré¡µé¢å·²ç»åœ¨å‰å°çš„æƒ…å†µä¸‹ï¼Œè¿™ç§å°±æ”¶ä¸åˆ°æ¨é€äº†</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-09-08 18:10:58</div>
  </div>
</div>
</div>
</li>
<li>
<div class="_2sjJGcOH_0"><img src="https://static001.geekbang.org/account/avatar/00/10/0f/e3/c49aa508.jpg"
  class="_3FLYR4bF_0">
<div class="_36ChpWj4_0">
  <div class="_2zFoi7sd_0"><span>é²¸é±¼</span>
  </div>
  <div class="_2_QraFYR_0">ç”¨æˆ·ç‚¹å‡»æ¨é€é‚£é‡Œåº”è¯¥ç”±flutteræ¥ä¸»åŠ¨æ³¨å†Œå›è°ƒï¼Œè¿™æ ·å¯ä»¥é¿å…ç­‰å¾…</div>
  <div class="_10o3OAxT_0">
    <p class="_3KxQPN3V_0">ä½œè€…å›å¤: flutterä¸è®ºæ€ä¹ˆä¸»åŠ¨ï¼Œæ¨é€éƒ½éœ€è¦ç”±nativeå»é€šçŸ¥ä»–å‘€</p>
  </div>
  <div class="_3klNVc4Z_0">
    <div class="_3Hkula0k_0">2019-09-08 18:08:19</div>
  </div>
</div>
</div>
</li>
</ul>